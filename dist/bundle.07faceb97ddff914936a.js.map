{"version":3,"sources":["webpack:///bundle.07faceb97ddff914936a.js","webpack:///./src/Config.js","webpack:///./src/core/View.js","webpack:///./src/core/Rect.js","webpack:///./src/core/Line.js","webpack:///./src/core/MathUtils.js","webpack:///./src/edit/Canvas.js","webpack:///./src/edit/EditController.js","webpack:///./src/edit/GridHighlight.js","webpack:///./src/edit/RootView.js","webpack:///./src/grid/GridController.js","webpack:///./src/grid/RootView.js","webpack:///./src/index.js","webpack:///./src/core/Color.js","webpack:///./src/overlay/Logo.js","webpack:///./src/overlay/OverlayController.js","webpack:///./src/overlay/RootView.js","webpack:///./src/overlay/Toolbox.js","webpack:///./src/overlay/Version.js","webpack:///./src/overlay/menu/CancelButton.js","webpack:///./src/overlay/menu/MenuBox.js","webpack:///./src/overlay/menu/MenuImage.js","webpack:///./src/overlay/menu/MenuLine.js","webpack:///./src/overlay/menu/MenuMove.js","webpack:///./src/overlay/menu/MenuRemove.js","webpack:///./src/overlay/menu/SaveButton.js","webpack:///./src/sketch/MainController.js","webpack:///./src/sketch/RootView.js","webpack:///./src/state/ImageHandler.js","webpack:///./src/core/PhalanxRoot.js","webpack:///./src/state/index.js","webpack:///./src/core/Button.js","webpack:///./src/core/ImageRect.js","webpack:///./src/edit/index.js","webpack:///./src/grid/index.js","webpack:///./src/overlay/index.js","webpack:///./src/sketch/index.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","canvasSize","width","height","grid","topLeft","x","y","bottomRight","pointDistance","pointSize","buttons","1","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_Config","View","this","_root","_children","_preRootListenTo","_disabled","_highlight","p5","redraw","console","warn","mod","view","root","parent","children","push","onAdded","index","indexOf","splice","onRemoved","child","removeView","evt","addListener","removeListener","disabled","onEvent","draw","forEach","_draw","pop","get","_uid","set","r","_this","c","listenTo","onRoot","canvas","windowWidth","windowHeight","d","h","default","13","_interopRequireDefault","obj","__esModule","_toConsumableArray","arr","Array","isArray","arr2","from","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_View2","_View3","_Color","_Color2","Rect","_View","w","dx","dy","getPrototypeOf","_x","_y","_width","_height","_color","_highlightColor","left","right","top","bottom","_p","stroke","color","apply","array","rect","_p2","fill","offsetX","nwidth","offsetY","nheight","beginShape","vertex","nx","ny","endShape","CLOSE","highlight","_p3","noStroke","Math","min","abs","minX","maxX","max","minY","maxY","17","_MathUtils","_MathUtils2","Line","x2","y2","actionRadius","distToSegment","noFill","line","strokeWeight","192","MathUtils","v","sqr","p","l2","dist2","t","sqrt","distToSegmentSquared","193","_Line","_Line2","_Rect","_Rect2","_ImageRect","_ImageRect2","_state","_state2","_ImageHandler","_ImageHandler2","Canvas","container","addView","_pressCount","moveOpParams","selectedView","_mx","_my","newContentsArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","err","return","stopListening","currLine","currRect","pointInView","getViewUnderCursor","oldView","newView","mX","mY","highlightViewUnderCursor","filePicker","select","elt","onchange","onImageSelect","bind","click","log","files","imageView","isImageRect","url","isRect","replaceView","uploadImage","onDoneUploadImage","onFailedUploadImage","onProgressUploadImage","e","pct","selected","_dx","_dy","getGridAligned","mouseX","mouseY","updateMousePositionParams","pointInMenu","isLineEditingMode","mousePressedLine","isBoxEditingMode","mousePressedBox","isImageEditingMode","mousePressedImage","isMoveEditingMode","mousePressedMove","isRemoveEditingMode","mousePressedRemove","mouseMovedLine","mouseMovedBox","mouseMovedImage","mouseMovedMove","mouseMovedRemove","mouseDraggedMove","mouseReleasedMove","194","_PhalanxRoot2","_PhalanxRoot3","_RootView","_RootView2","EditController","_PhalanxRoot","rootView","style","noLoop","canvasView","stop","setContents","reset","loop","clear","195","GridHighlight","ellipse","PI","196","_GridHighlight","_GridHighlight2","_Canvas","_Canvas2","RootView","phalanxRoot","setup","gridHighlight","background","197","GridController","198","j","drawPoints","199","_sketch","_sketch2","_edit","_edit2","_grid","_grid2","_overlay","_overlay2","2","Color","g","b","alpha","floor","200","Logo","text","textFont","fonts","fugueRegular","textSize","type","201","OverlayController","loadFont","fugueMono","position","showButtons","hideButtons","202","_Logo","_Logo2","_Version","_Version2","_Toolbox","_Toolbox2","_SaveButton","_SaveButton2","_CancelButton","_CancelButton2","logo","version","toolbox","btnY","window","innerHeight","btnRightX","innerWidth","btnLeftX","saveButton","cancelButton","203","_MenuLine","_MenuLine2","_MenuBox","_MenuBox2","_MenuMove","_MenuMove2","_MenuRemove","_MenuRemove2","_MenuImage","_MenuImage2","Toolbox","containerCoords","lineCoords","lineButton","boxCoords","boxButton","imageCoords","imageButton","moveCoords","moveButton","removeCoords","removeButton","204","Version","versionNumber","_versionNumber","size","textAlign","CENTER","205","_Button2","_Button3","CancelButton","_Button","cancelEditing","206","_get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","getter","_Rect3","MenuBox","startEditing","EDITING_MODES","BOX","isEditing","207","MenuImage","IMAGE","208","_Line3","MenuLine","LINE","209","MenuMove","MOVE","210","MenuRemove","REMOVE","211","SaveButton","saveEditing","212","MainController","dynamicContent","slice","childrenToEdit","currentChildren","duplicate","removeAll","oldChildren","viewArray","_this2","213","setupContent","214","_cloudinaryCore","_cloudinaryCore2","ImageHandler","cl","Cloudinary","cloud_name","secure","doneCallback","failedCallback","progressCallback","file","xhr","XMLHttpRequest","fd","FormData","open","setRequestHeader","upload","addEventListener","progress","round","loaded","total","onreadystatechange","readyState","status","response","JSON","parse","responseText","secure_url","append","send","29","SUPPORTED_EVENTS","PhalanxRoot","_p5","listeners","preload","_preload","_setup","mousePressed","_propagateP5Event","mouseMoved","mouseDragged","mouseReleased","createCanvas","setRootView","preDraw","postDraw","isEventSupported","_onEvent","3","GlobalState","editing","editingMode","_editController","_menuController","_mainController","onStartEditing","currentContents","getAndClearContents","contentView","getContents","onDoneEditing","71","Button","textPadding","onClick","72","ImageRect","_url","_loaded","_imageParams","_img","createImg","loadedCallback","hide","loadImg","scaleFactor","sx","sw","totalCrop","sy","sh","image","u","75","edit","s","_EditController2","start","registerEditController","_EditController","76","sketch","_GridController2","_GridController","77","overlay","_OverlayController2","registerMenuController","_OverlayController","78","_MainController2","registerMainController","_MainController"],"mappings":"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","file":"bundle.07faceb97ddff914936a.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar canvasSize = {\n  width: 1600,\n  height: 1200\n};\n\nvar grid = {\n  topLeft: {\n    x: 0,\n    y: 0\n  },\n  bottomRight: {\n    x: canvasSize.width,\n    y: canvasSize.height\n  },\n  pointDistance: 15,\n  pointSize: 1\n};\n\nvar buttons = {\n  width: 5,\n  height: 2\n};\n\nmodule.exports = {\n  canvasSize: canvasSize,\n  grid: grid,\n  buttons: buttons\n};\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar View = function () {\n  function View() {\n    _classCallCheck(this, View);\n\n    this._root = null;\n    this._children = [];\n    this._preRootListenTo = [];\n    this._disabled = false;\n    this._highlight = false;\n  }\n\n  _createClass(View, [{\n    key: 'onRoot',\n    value: function onRoot() {}\n  }, {\n    key: 'redraw',\n    value: function redraw() {\n      this.p5.redraw();\n    }\n  }, {\n    key: 'duplicate',\n    value: function duplicate() {\n      console.warn('pointInView Not implemented for current view!');\n      return null;\n    }\n  }, {\n    key: 'pointInView',\n    value: function pointInView(x, y) {\n      console.warn('pointInView Not implemented for current view!');\n      return false;\n    }\n  }, {\n    key: 'getGridAligned',\n    value: function getGridAligned(x) {\n      var mod = x % _Config.grid.pointDistance;\n      return 2 * mod > _Config.grid.pointDistance ? x + (_Config.grid.pointDistance - mod) : x - mod;\n    }\n\n    // View hierarchy tree\n\n  }, {\n    key: 'addView',\n    value: function addView(view) {\n      if (this.root) view.root = this.root;\n      view.parent = this;\n      this.children.push(view);\n      view.onAdded();\n      return view;\n    }\n  }, {\n    key: 'onAdded',\n    value: function onAdded() {}\n  }, {\n    key: 'removeView',\n    value: function removeView(view) {\n      if (view.root === this.root) view.root = null;\n      view.parent = null;\n      var index = this._children.indexOf(view);\n      this._children.splice(index, 1);\n      view.onRemoved();\n    }\n  }, {\n    key: 'removeAll',\n    value: function removeAll() {\n      while (this._children.length > 0) {\n        var child = this._children[0];\n        this.removeView(child);\n      }\n    }\n  }, {\n    key: 'onRemoved',\n    value: function onRemoved() {}\n\n    // Events\n\n  }, {\n    key: 'listenTo',\n    value: function listenTo(evt) {\n      if (!this.root) {\n        this._preRootListenTo.push(evt);\n      } else {\n        this.root.addListener(evt, this);\n      }\n    }\n  }, {\n    key: 'stopListening',\n    value: function stopListening(evt) {\n      this.root.removeListener(evt, this);\n    }\n  }, {\n    key: '_onEvent',\n    value: function _onEvent(evt) {\n      if (this.disabled) return;\n      this.onEvent(evt);\n    }\n  }, {\n    key: 'onEvent',\n    value: function onEvent(evt) {}\n\n    // Drawing\n\n  }, {\n    key: '_draw',\n    value: function _draw() {\n      if (!this.root || this.disabled) return;\n      this.p5.push();\n      this.draw();\n      this.children.forEach(function (child) {\n        return child._draw();\n      });\n      this.p5.pop();\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {}\n  }, {\n    key: 'uid',\n    get: function get() {\n      return this._uid;\n    }\n  }, {\n    key: 'root',\n    get: function get() {\n      if (!this._root && this.parent) this._root = this.parent.root;\n      return this._root;\n    },\n    set: function set(r) {\n      var _this = this;\n\n      if (!r) return;\n      this._root = r;\n      this._children.forEach(function (c) {\n        return c.root = r;\n      });\n      if (this._preRootListenTo.length) {\n        this._preRootListenTo.forEach(function (evt) {\n          return _this.listenTo(evt);\n        });\n        this._preRootListenTo = [];\n      }\n      this.onRoot();\n    }\n  }, {\n    key: 'p5',\n    get: function get() {\n      return this.root.p5;\n    }\n  }, {\n    key: 'canvas',\n    get: function get() {\n      return this.root.canvas;\n    }\n  }, {\n    key: 'windowWidth',\n    get: function get() {\n      return this.root ? this.root.windowWidth : 0;\n    }\n  }, {\n    key: 'windowHeight',\n    get: function get() {\n      return this.root ? this.root.windowHeight : 0;\n    }\n  }, {\n    key: 'children',\n    get: function get() {\n      return this._children;\n    }\n  }, {\n    key: 'disabled',\n    get: function get() {\n      if (!this.parent) return this._disabled;\n      return this._disabled || this.parent.disabled;\n    },\n    set: function set(d) {\n      this._disabled = d;\n    }\n  }, {\n    key: 'highlight',\n    get: function get() {\n      return this._highlight;\n    },\n    set: function set(h) {\n      this._highlight = h;\n    }\n  }, {\n    key: 'isRect',\n    get: function get() {\n      return false;\n    }\n  }, {\n    key: 'isImageRect',\n    get: function get() {\n      return false;\n    }\n  }]);\n\n  return View;\n}();\n\nexports.default = View;\n\n/***/ }),\n\n/***/ 13:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Rect = function (_View) {\n  _inherits(Rect, _View);\n\n  function Rect(x, y, w, h, dx, dy) {\n    _classCallCheck(this, Rect);\n\n    var _this = _possibleConstructorReturn(this, (Rect.__proto__ || Object.getPrototypeOf(Rect)).call(this));\n\n    _this._x = x;\n    _this._y = y;\n    _this._width = w;\n    _this._height = h;\n    _this.dx = dx || 0;\n    _this.dy = dy || 0;\n    _this._color = new _Color2.default(0, 0, 255);\n    _this._highlightColor = new _Color2.default(255, 255, 0, 0.2);\n    return _this;\n  }\n\n  _createClass(Rect, [{\n    key: 'duplicate',\n    value: function duplicate() {\n      return new Rect(this._x, this._y, this._width, this._height, this.dx, this.dy);\n    }\n  }, {\n    key: 'pointInView',\n    value: function pointInView(x, y) {\n      // let minX = Math.min(this.x, this.x + this.width), maxX = Math.max(this.x, this.x + this.width)\n      // let minY = Math.min(this.y, this.y + this.height), maxY = Math.max(this.y, this.y + this.height)\n      // if (this.dx <= 0) minX = minX - this.dx\n      // else maxX = maxX + this.dx\n      // if (this.dy <= 0) minY = minY - this.dy\n      // else maxY = maxY + this.dy\n\n      if (x >= this.left && x <= this.right && y >= this.top && y <= this.bottom) return true;\n      return false;\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      var _p;\n\n      // this.p5.stroke(this.p5.color(this.color.r, this.color.g, this.color.b))\n      this.p5.stroke((_p = this.p5).color.apply(_p, _toConsumableArray(this.color.array)));\n      this.p5.rect(this.x, this.y, this.width, this.height);\n      if (this.dx || this.dy) {\n        var _p2;\n\n        this.p5.fill((_p2 = this.p5).color.apply(_p2, _toConsumableArray(this.color.array)));\n        var offsetX = this.dx < 0 ? 0 : this.nwidth;\n        var offsetY = this.dy < 0 ? 0 : this.nheight;\n        // OX depth\n        this.p5.beginShape();\n        this.p5.vertex(offsetX + this.nx, this.ny);\n        this.p5.vertex(offsetX + this.nx + this.dx, this.ny + this.dy);\n        this.p5.vertex(offsetX + this.nx + this.dx, this.ny + this.nheight + this.dy);\n        this.p5.vertex(offsetX + this.nx, this.ny + this.nheight);\n        this.p5.endShape(this.p5.CLOSE);\n        // OY depth\n        this.p5.beginShape();\n        this.p5.vertex(this.nx, offsetY + this.ny);\n        this.p5.vertex(this.nx + this.dx, offsetY + this.ny + this.dy);\n        this.p5.vertex(this.nx + this.nwidth + this.dx, offsetY + this.ny + this.dy);\n        this.p5.vertex(this.nx + this.nwidth, offsetY + this.ny);\n        this.p5.endShape(this.p5.CLOSE);\n      }\n      if (this.highlight) {\n        var _p3;\n\n        var h = {\n          x: this.left - _Config.grid.pointDistance,\n          y: this.top - _Config.grid.pointDistance,\n          w: this.right - this.left + 2 * _Config.grid.pointDistance,\n          h: this.bottom - this.top + 2 * _Config.grid.pointDistance\n        };\n        this.p5.noStroke();\n        this.p5.fill((_p3 = this.p5).color.apply(_p3, _toConsumableArray(this._highlightColor.array)));\n        this.p5.rect(h.x, h.y, h.w, h.h);\n      }\n    }\n  }, {\n    key: 'isRect',\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: 'x',\n    get: function get() {\n      return this._x;\n    },\n    set: function set(x) {\n      this._x = x;\n    }\n  }, {\n    key: 'y',\n    get: function get() {\n      return this._y;\n    },\n    set: function set(y) {\n      this._y = y;\n    }\n  }, {\n    key: 'width',\n    get: function get() {\n      return this._width;\n    },\n    set: function set(w) {\n      this._width = w;\n    }\n  }, {\n    key: 'height',\n    get: function get() {\n      return this._height;\n    },\n    set: function set(h) {\n      this._height = h;\n    }\n  }, {\n    key: 'nx',\n    get: function get() {\n      return Math.min(this._x, this._x + this.width);\n    }\n  }, {\n    key: 'ny',\n    get: function get() {\n      return Math.min(this._y, this._y + this.height);\n    }\n  }, {\n    key: 'nwidth',\n    get: function get() {\n      return Math.abs(this._width);\n    }\n  }, {\n    key: 'nheight',\n    get: function get() {\n      return Math.abs(this._height);\n    }\n  }, {\n    key: 'color',\n    get: function get() {\n      return this._color;\n    },\n    set: function set(c) {\n      this._color = c;\n    }\n  }, {\n    key: 'left',\n    get: function get() {\n      var minX = Math.min(this.x, this.x + this.width);\n      if (this.dx <= 0) minX = minX + this.dx;\n      return minX;\n    }\n  }, {\n    key: 'right',\n    get: function get() {\n      var maxX = Math.max(this.x, this.x + this.width);\n      if (this.dx > 0) maxX = maxX + this.dx;\n      return maxX;\n    }\n  }, {\n    key: 'top',\n    get: function get() {\n      var minY = Math.min(this.y, this.y + this.height);\n      if (this.dy <= 0) minY = minY + this.dy;\n      return minY;\n    }\n  }, {\n    key: 'bottom',\n    get: function get() {\n      var maxY = Math.max(this.y, this.y + this.height);\n      if (this.dy > 0) maxY = maxY + this.dy;\n      return maxY;\n    }\n  }]);\n\n  return Rect;\n}(_View3.default);\n\nexports.default = Rect;\n\n/***/ }),\n\n/***/ 17:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _MathUtils = __webpack_require__(192);\n\nvar _MathUtils2 = _interopRequireDefault(_MathUtils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Line = function (_View) {\n  _inherits(Line, _View);\n\n  function Line(x, y, x2, y2) {\n    _classCallCheck(this, Line);\n\n    var _this = _possibleConstructorReturn(this, (Line.__proto__ || Object.getPrototypeOf(Line)).call(this));\n\n    _this._x = x;\n    _this._y = y;\n    _this._width = x2 - x;\n    _this._height = y2 - y;\n    _this._color = new _Color2.default(0, 0, 255);\n    _this._highlightColor = new _Color2.default(255, 255, 0, 0.2);\n    _this.actionRadius = 15;\n    return _this;\n  }\n\n  _createClass(Line, [{\n    key: 'duplicate',\n    value: function duplicate() {\n      return new Line(this.x, this.y, this.x2, this.y2);\n    }\n  }, {\n    key: 'pointInView',\n    value: function pointInView(x, y) {\n      var distance = _MathUtils2.default.distToSegment({ x: x, y: y }, { x: this.x, y: this.y }, { x: this.x2, y: this.y2 });\n      if (distance <= this.actionRadius) return true;\n      return false;\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      var _p;\n\n      this.p5.noFill();\n      this.p5.stroke((_p = this.p5).color.apply(_p, _toConsumableArray(this.color.array)));\n      this.p5.line(this.x, this.y, this.x2, this.y2);\n\n      if (this.highlight) {\n        var _p2;\n\n        this.p5.push();\n        this.p5.strokeWeight(this.actionRadius);\n        this.p5.noFill();\n        this.p5.stroke((_p2 = this.p5).color.apply(_p2, _toConsumableArray(this._highlightColor.array)));\n        this.p5.line(this.x, this.y, this.x2, this.y2);\n        this.p5.pop();\n      }\n    }\n  }, {\n    key: 'x',\n    get: function get() {\n      return this._x;\n    },\n    set: function set(x) {\n      this._x = x;\n    }\n  }, {\n    key: 'y',\n    get: function get() {\n      return this._y;\n    },\n    set: function set(y) {\n      this._y = y;\n    }\n  }, {\n    key: 'x2',\n    get: function get() {\n      return this._x + this._width;\n    },\n    set: function set(x) {\n      this._width = x - this._x;\n    }\n  }, {\n    key: 'y2',\n    get: function get() {\n      return this._y + this._height;\n    },\n    set: function set(y) {\n      this._height = y - this._y;\n    }\n  }, {\n    key: 'width',\n    get: function get() {\n      return this._width;\n    },\n    set: function set(w) {\n      this._width = w;\n    }\n  }, {\n    key: 'height',\n    get: function get() {\n      return this._height;\n    },\n    set: function set(h) {\n      this._height = h;\n    }\n  }, {\n    key: 'color',\n    get: function get() {\n      return this._color;\n    },\n    set: function set(c) {\n      this._color = c;\n    }\n  }]);\n\n  return Line;\n}(_View3.default);\n\nexports.default = Line;\n\n/***/ }),\n\n/***/ 192:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MathUtils = function () {\n  function MathUtils() {\n    _classCallCheck(this, MathUtils);\n  }\n\n  _createClass(MathUtils, [{\n    key: \"sqr\",\n    value: function sqr(x) {\n      return x * x;\n    }\n  }, {\n    key: \"dist2\",\n    value: function dist2(v, w) {\n      return this.sqr(v.x - w.x) + this.sqr(v.y - w.y);\n    }\n  }, {\n    key: \"distToSegmentSquared\",\n    value: function distToSegmentSquared(p, v, w) {\n      var l2 = this.dist2(v, w);\n      if (l2 == 0) return this.dist2(p, v);\n      var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;\n      t = Math.max(0, Math.min(1, t));\n      return this.dist2(p, { x: v.x + t * (w.x - v.x),\n        y: v.y + t * (w.y - v.y) });\n    }\n  }, {\n    key: \"distToSegment\",\n    value: function distToSegment(p, v, w) {\n      return Math.sqrt(this.distToSegmentSquared(p, v, w));\n    }\n  }]);\n\n  return MathUtils;\n}();\n\nexports.default = new MathUtils();\n\n/***/ }),\n\n/***/ 193:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nvar _Line = __webpack_require__(17);\n\nvar _Line2 = _interopRequireDefault(_Line);\n\nvar _Rect = __webpack_require__(13);\n\nvar _Rect2 = _interopRequireDefault(_Rect);\n\nvar _ImageRect = __webpack_require__(72);\n\nvar _ImageRect2 = _interopRequireDefault(_ImageRect);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nvar _ImageHandler = __webpack_require__(214);\n\nvar _ImageHandler2 = _interopRequireDefault(_ImageHandler);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Canvas = function (_View) {\n  _inherits(Canvas, _View);\n\n  function Canvas() {\n    _classCallCheck(this, Canvas);\n\n    var _this = _possibleConstructorReturn(this, (Canvas.__proto__ || Object.getPrototypeOf(Canvas)).call(this));\n\n    _this._color = new _Color2.default(0, 0, 255);\n    _this.listenTo('mousePressed');\n    _this.listenTo('mouseMoved');\n    _this.listenTo('mouseDragged');\n    _this.listenTo('mouseReleased');\n    _this.container = _this.addView(new _View3.default());\n\n    _this._pressCount = 0;\n    _this.moveOpParams = {\n      selectedView: null\n    };\n    _this._mx = 0;\n    _this._my = 0;\n    return _this;\n  }\n\n  _createClass(Canvas, [{\n    key: 'setContents',\n    value: function setContents(newContentsArray) {\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = newContentsArray[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var view = _step.value;\n\n          this.container.addView(view);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: 'stop',\n    value: function stop() {\n      this.stopListening('mousePressed');\n      this.stopListening('mouseMoved');\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      this._pressCount = 0;\n      this.currLine = null;\n      this.currRect = null;\n    }\n\n    // *********** COMMON CONTROL *********** \\\\\n\n  }, {\n    key: 'getViewUnderCursor',\n    value: function getViewUnderCursor() {\n      for (var i = this.container.children.length - 1; i >= 0; i--) {\n        var view = this.container.children[i];\n        if (view.pointInView(this._mx, this._my)) return view;\n      }\n    }\n  }, {\n    key: 'highlightViewUnderCursor',\n    value: function highlightViewUnderCursor() {\n      var view = this.getViewUnderCursor();\n      if (view && view.highlight) return;\n      this.container.children.forEach(function (child) {\n        return child.highlight = false;\n      });\n      if (view) view.highlight = true;\n    }\n  }, {\n    key: 'replaceView',\n    value: function replaceView(oldView, newView) {\n      this.container.removeView(oldView);\n      this.container.addView(newView);\n    }\n\n    // *********** LINE *********** \\\\\n\n  }, {\n    key: 'mousePressedLine',\n    value: function mousePressedLine() {\n      var mX = this._mx;\n      var mY = this._my;\n      this._pressCount++;\n      if (this._pressCount == 1) {\n        this.currLine = this.addView(new _Line2.default(mX, mY, mX, mY));\n      } else if (this._pressCount == 2) {\n        if (mX == this.currLine.x && mY == this.currLine.y) this.removeView(this.currLine);else {\n          this.removeView(this.currLine);\n          this.container.addView(this.currLine);\n        }\n\n        this._pressCount = 0;\n      }\n    }\n  }, {\n    key: 'mouseMovedLine',\n    value: function mouseMovedLine() {\n      if (this._pressCount != 1) return;\n      this.currLine.x2 = this._mx;\n      this.currLine.y2 = this._my;\n    }\n\n    // *********** BOX *********** \\\\\n\n  }, {\n    key: 'mousePressedBox',\n    value: function mousePressedBox() {\n      var mX = this._mx;\n      var mY = this._my;\n      this._pressCount++;\n      if (this._pressCount == 1) {\n        this.currRect = this.addView(new _Rect2.default(mX, mY, _Config.grid.pointDistance, _Config.grid.pointDistance));\n      } else if (this._pressCount == 2) {\n        if (mX == this.currRect.x && mY == this.currRect.y) this.removeView(this.currRect);\n      } else if (this._pressCount == 3) {\n        this.removeView(this.currRect);\n        this.container.addView(this.currRect);\n        this._pressCount = 0;\n      }\n    }\n  }, {\n    key: 'mouseMovedBox',\n    value: function mouseMovedBox() {\n      var mX = this._mx;\n      var mY = this._my;\n      if (this._pressCount == 1) {\n        this.currRect.width = mX - this.currRect.x;\n        this.currRect.height = mY - this.currRect.y;\n      } else if (this._pressCount == 2) {\n        if (mX >= this.currRect.nx && mX <= this.currRect.nx + this.currRect.nwidth) {\n          this.currRect.dx = this.currRect.dy = 0;\n          return;\n        }\n        if (mY >= this.currRect.ny && mY <= this.currRect.ny + this.currRect.nheight) {\n          this.currRect.dx = this.currRect.dy = 0;\n          return;\n        }\n        this.currRect.dx = mX < this.currRect.nx ? mX - this.currRect.nx : mX - this.currRect.nx - this.currRect.nwidth;\n        this.currRect.dy = mY < this.currRect.ny ? mY - this.currRect.ny : mY - this.currRect.ny - this.currRect.nheight;\n      }\n    }\n\n    // *********** IMAGE *********** \\\\\n\n  }, {\n    key: 'mouseMovedImage',\n    value: function mouseMovedImage() {\n      this.highlightViewUnderCursor();\n    }\n  }, {\n    key: 'mousePressedImage',\n    value: function mousePressedImage() {\n      var view = this.getViewUnderCursor();\n      if (!view) return;\n      var filePicker = this.p5.select('#filePicker');\n      filePicker.elt.onchange = this.onImageSelect.bind(this, filePicker, view);\n      filePicker.elt.click();\n    }\n  }, {\n    key: 'onImageSelect',\n    value: function onImageSelect(filePicker, view) {\n      console.log('select:', filePicker.elt.files);\n      var imageView = void 0;\n      if (view.isImageRect) {\n        imageView = view;\n        imageView.url = null;\n      } else if (view.isRect) {\n        imageView = new _ImageRect2.default(view.x, view.y, view.width, view.height, view.dx, view.dy);\n        this.replaceView(view, imageView);\n      } else return;\n      _ImageHandler2.default.uploadImage(filePicker.elt.files, this.onDoneUploadImage.bind(this, imageView), this.onFailedUploadImage.bind(this), this.onProgressUploadImage.bind(this));\n    }\n  }, {\n    key: 'onDoneUploadImage',\n    value: function onDoneUploadImage(imageView, url) {\n      console.log('Done: ', imageView, url);\n      imageView.url = url;\n    }\n  }, {\n    key: 'onFailedUploadImage',\n    value: function onFailedUploadImage(e) {}\n  }, {\n    key: 'onProgressUploadImage',\n    value: function onProgressUploadImage(pct) {}\n    // *********** MOVE *********** \\\\\n\n  }, {\n    key: 'mousePressedMove',\n    value: function mousePressedMove() {\n      for (var i = this.container.children.length - 1; i >= 0; i--) {\n        var view = this.container.children[i];\n        if (view.pointInView(this._mx, this._my)) {\n          this.moveOpParams.selectedView = view;\n          view.selected = true;\n          return;\n        }\n      }\n    }\n  }, {\n    key: 'mouseMovedMove',\n    value: function mouseMovedMove() {\n      this.highlightViewUnderCursor();\n    }\n  }, {\n    key: 'mouseDraggedMove',\n    value: function mouseDraggedMove() {\n      if (!this.moveOpParams.selectedView) return;\n      var view = this.moveOpParams.selectedView;\n      view.x += this._dx;\n      view.y += this._dy;\n    }\n  }, {\n    key: 'mouseReleasedMove',\n    value: function mouseReleasedMove() {\n      if (!this.moveOpParams.selectedView) return;\n      this.moveOpParams.selectedView.selected = false;\n      this.moveOpParams.selectedView = null;\n    }\n\n    // *********** REMOVE *********** \\\\\n\n  }, {\n    key: 'mousePressedRemove',\n    value: function mousePressedRemove() {\n      var view = this.getViewUnderCursor();\n      if (!view) return;\n      this.container.removeView(view);\n    }\n  }, {\n    key: 'mouseMovedRemove',\n    value: function mouseMovedRemove() {\n      this.highlightViewUnderCursor();\n    }\n  }, {\n    key: 'updateMousePositionParams',\n    value: function updateMousePositionParams() {\n      var mX = this.getGridAligned(this.p5.mouseX);\n      var mY = this.getGridAligned(this.p5.mouseY);\n      this._dx = mX - this._mx;\n      this._dy = mY - this._my;\n      this._mx = mX;\n      this._my = mY;\n    }\n  }, {\n    key: 'onEvent',\n    value: function onEvent(evt) {\n      this.updateMousePositionParams();\n      switch (evt) {\n        case 'mousePressed':\n          if (_state2.default.pointInMenu(this.p5.mouseX, this.p5.mouseY)) return;\n          if (_state2.default.isLineEditingMode) this.mousePressedLine();\n          if (_state2.default.isBoxEditingMode) this.mousePressedBox();\n          if (_state2.default.isImageEditingMode) this.mousePressedImage();\n          if (_state2.default.isMoveEditingMode) this.mousePressedMove();\n          if (_state2.default.isRemoveEditingMode) this.mousePressedRemove();\n          break;\n        case 'mouseMoved':\n          if (_state2.default.isLineEditingMode) this.mouseMovedLine();\n          if (_state2.default.isBoxEditingMode) this.mouseMovedBox();\n          if (_state2.default.isImageEditingMode) this.mouseMovedImage();\n          if (_state2.default.isMoveEditingMode) this.mouseMovedMove();\n          if (_state2.default.isRemoveEditingMode) this.mouseMovedRemove();\n          break;\n        case 'mouseDragged':\n          if (_state2.default.isMoveEditingMode) this.mouseDraggedMove();\n          break;\n        case 'mouseReleased':\n          if (_state2.default.isMoveEditingMode) this.mouseReleasedMove();\n          break;\n      }\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {}\n  }]);\n\n  return Canvas;\n}(_View3.default);\n\nexports.default = Canvas;\n\n/***/ }),\n\n/***/ 194:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _PhalanxRoot2 = __webpack_require__(29);\n\nvar _PhalanxRoot3 = _interopRequireDefault(_PhalanxRoot2);\n\nvar _RootView = __webpack_require__(196);\n\nvar _RootView2 = _interopRequireDefault(_RootView);\n\nvar _Config = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EditController = function (_PhalanxRoot) {\n  _inherits(EditController, _PhalanxRoot);\n\n  function EditController() {\n    _classCallCheck(this, EditController);\n\n    return _possibleConstructorReturn(this, (EditController.__proto__ || Object.getPrototypeOf(EditController)).call(this));\n  }\n\n  _createClass(EditController, [{\n    key: 'setRootView',\n    value: function setRootView() {\n      this.rootView = new _RootView2.default(this);\n      this.rootView.disabled = true;\n    }\n  }, {\n    key: 'setup',\n    value: function setup() {\n      this.canvas.style('position', 'absolute');\n      this.canvas.style('display', 'none');\n      this.p5.noLoop();\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents() {\n      this.rootView.canvasView.stop();\n      return this.rootView.canvasView.container;\n    }\n  }, {\n    key: 'setContents',\n    value: function setContents(newContentsArray) {\n      this.rootView.canvasView.setContents(newContentsArray);\n    }\n  }, {\n    key: 'onStartEditing',\n    value: function onStartEditing() {\n      this.rootView.reset();\n      this.rootView.disabled = false;\n      this.canvas.style('display', 'block');\n      this.p5.loop();\n      this.redraw();\n    }\n  }, {\n    key: 'onDoneEditing',\n    value: function onDoneEditing() {\n      this.canvas.style('display', 'none');\n      this.rootView.disabled = true;\n      this.p5.noLoop();\n      this.p5.clear();\n      this.redraw();\n    }\n  }]);\n\n  return EditController;\n}(_PhalanxRoot3.default);\n\nexports.default = new EditController();\n\n/***/ }),\n\n/***/ 195:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GridHighlight = function (_View) {\n  _inherits(GridHighlight, _View);\n\n  function GridHighlight() {\n    _classCallCheck(this, GridHighlight);\n\n    var _this = _possibleConstructorReturn(this, (GridHighlight.__proto__ || Object.getPrototypeOf(GridHighlight)).call(this));\n\n    _this._color = new _Color2.default(0, 0, 255);\n    return _this;\n  }\n\n  _createClass(GridHighlight, [{\n    key: 'draw',\n    value: function draw() {\n      var _p;\n\n      var mX = this.p5.mouseX;\n      var mY = this.p5.mouseY;\n      mX = this.getGridAligned(mX);\n      mY = this.getGridAligned(mY);\n      (_p = this.p5).stroke.apply(_p, _toConsumableArray(this._color.array));\n      this.p5.noFill();\n      this.p5.ellipse(mX, mY, 10, 10, 0, 2 * this.p5.PI);\n    }\n  }]);\n\n  return GridHighlight;\n}(_View3.default);\n\nexports.default = GridHighlight;\n\n/***/ }),\n\n/***/ 196:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nvar _GridHighlight = __webpack_require__(195);\n\nvar _GridHighlight2 = _interopRequireDefault(_GridHighlight);\n\nvar _Canvas = __webpack_require__(193);\n\nvar _Canvas2 = _interopRequireDefault(_Canvas);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RootView = function (_View) {\n  _inherits(RootView, _View);\n\n  function RootView(phalanxRoot) {\n    _classCallCheck(this, RootView);\n\n    var _this = _possibleConstructorReturn(this, (RootView.__proto__ || Object.getPrototypeOf(RootView)).call(this));\n\n    _this.root = phalanxRoot;\n    _this.setup();\n    return _this;\n  }\n\n  _createClass(RootView, [{\n    key: 'setup',\n    value: function setup() {\n      this.canvasView = this.addView(new _Canvas2.default());\n      this.gridHighlight = this.addView(new _GridHighlight2.default());\n    }\n  }, {\n    key: 'reset',\n    value: function reset() {\n      if (this.canvasView) {\n        this.canvasView.stop();\n        this.removeView(this.canvasView);\n      }\n      if (this.gridHighlight) this.removeView(this.gridHighlight);\n      this.setup();\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      this.p5.clear();\n      this.p5.background('rgba(255, 0, 0, 0.05)');\n      // this.drawPoints()\n    }\n  }]);\n\n  return RootView;\n}(_View3.default);\n\nexports.default = RootView;\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _PhalanxRoot2 = __webpack_require__(29);\n\nvar _PhalanxRoot3 = _interopRequireDefault(_PhalanxRoot2);\n\nvar _RootView = __webpack_require__(198);\n\nvar _RootView2 = _interopRequireDefault(_RootView);\n\nvar _Config = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GridController = function (_PhalanxRoot) {\n  _inherits(GridController, _PhalanxRoot);\n\n  function GridController() {\n    _classCallCheck(this, GridController);\n\n    return _possibleConstructorReturn(this, (GridController.__proto__ || Object.getPrototypeOf(GridController)).call(this));\n  }\n\n  _createClass(GridController, [{\n    key: 'setRootView',\n    value: function setRootView() {\n      this.rootView = new _RootView2.default(this);\n    }\n  }, {\n    key: 'setup',\n    value: function setup() {\n      this.canvas.style('position', 'absolute');\n      this.p5.noLoop();\n    }\n  }]);\n\n  return GridController;\n}(_PhalanxRoot3.default);\n\nexports.default = new GridController();\n\n/***/ }),\n\n/***/ 198:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RootView = function (_View) {\n  _inherits(RootView, _View);\n\n  function RootView(phalanxRoot) {\n    _classCallCheck(this, RootView);\n\n    var _this = _possibleConstructorReturn(this, (RootView.__proto__ || Object.getPrototypeOf(RootView)).call(this));\n\n    _this.root = phalanxRoot;\n    return _this;\n  }\n\n  _createClass(RootView, [{\n    key: 'drawPoints',\n    value: function drawPoints() {\n      var topLeft = _Config.grid.topLeft,\n          bottomRight = _Config.grid.bottomRight;\n      var pointSize = _Config.grid.pointSize,\n          pointDistance = _Config.grid.pointDistance;\n      this.p5.stroke(144, 144, 144);\n      for (var i = topLeft.x; i <= bottomRight.x; i += pointDistance) {\n        for (var j = topLeft.y; j <= bottomRight.y; j += pointDistance) {\n          this.p5.ellipse(i, j, pointSize / 2, pointSize / 2, 0, 2 * this.p5.PI);\n        }\n      }\n    }\n  }, {\n    key: 'drawSquares',\n    value: function drawSquares() {\n      var topLeft = _Config.grid.topLeft,\n          bottomRight = _Config.grid.bottomRight;\n      var pointSize = _Config.grid.pointSize,\n          pointDistance = _Config.grid.pointDistance;\n      this.p5.stroke(184, 184, 184);\n      for (var i = topLeft.x; i <= bottomRight.x; i += pointDistance) {\n        this.p5.line(i, 0, i, _Config.canvasSize.height);\n      }\n      for (var _i = topLeft.y; _i <= bottomRight.y; _i += pointDistance) {\n        this.p5.line(0, _i, _Config.canvasSize.width, _i);\n      }\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      // this.p5.background(225)\n      this.drawPoints();\n    }\n  }]);\n\n  return RootView;\n}(_View3.default);\n\nexports.default = RootView;\n\n/***/ }),\n\n/***/ 199:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _p = __webpack_require__(30);\n\nvar _p2 = _interopRequireDefault(_p);\n\n__webpack_require__(74);\n\n__webpack_require__(73);\n\nvar _sketch = __webpack_require__(78);\n\nvar _sketch2 = _interopRequireDefault(_sketch);\n\nvar _edit = __webpack_require__(75);\n\nvar _edit2 = _interopRequireDefault(_edit);\n\nvar _grid = __webpack_require__(76);\n\nvar _grid2 = _interopRequireDefault(_grid);\n\nvar _overlay = __webpack_require__(77);\n\nvar _overlay2 = _interopRequireDefault(_overlay);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nnew _p2.default(_grid2.default, 'grid');\nnew _p2.default(_sketch2.default, 'content');\nnew _p2.default(_edit2.default, 'edit');\nnew _p2.default(_overlay2.default, 'overlay');\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Color = function () {\n  function Color(r, g, b, alpha) {\n    _classCallCheck(this, Color);\n\n    this.r = r;\n    this.g = g;\n    this.b = b;\n    this.alpha = alpha === 0 ? 0 : alpha || 255;\n  }\n\n  _createClass(Color, [{\n    key: \"array\",\n    get: function get() {\n      return [this.r, this.g, this.b, Math.floor(255 * this.alpha)];\n    }\n  }]);\n\n  return Color;\n}();\n\nexports.default = Color;\n\n/***/ }),\n\n/***/ 200:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Logo = function (_View) {\n  _inherits(Logo, _View);\n\n  function Logo() {\n    _classCallCheck(this, Logo);\n\n    return _possibleConstructorReturn(this, (Logo.__proto__ || Object.getPrototypeOf(Logo)).call(this));\n  }\n\n  _createClass(Logo, [{\n    key: 'rect',\n    value: function rect(x, y, w, h) {\n      this.p5.push();\n      this.p5.stroke(this.p5.color(255, 0, 0));\n      this.p5.fill(this.p5.color(255, 255, 255));\n      this.p5.strokeWeight(2);\n      this.p5.rect(x, y, w, h);\n      this.p5.pop();\n    }\n  }, {\n    key: 'type',\n    value: function type(text, x, y) {\n      this.p5.push();\n      this.p5.textFont(this.root.fonts.fugueRegular);\n      this.p5.noStroke();\n      this.p5.fill(this.p5.color(255, 0, 0));\n      this.p5.textSize(_Config.grid.pointDistance - 2);\n      this.p5.text(text, x, y);\n      this.p5.pop();\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      var x = _Config.grid.pointDistance;\n      var y = _Config.grid.pointDistance;\n      var w = 7 * _Config.grid.pointDistance;\n      var h = 2 * _Config.grid.pointDistance;\n\n      this.rect(x + 2 * _Config.grid.pointDistance, y + 2 * _Config.grid.pointDistance, w, h);\n      this.type('space', x + w - 8, y + 3 * _Config.grid.pointDistance + 10);\n      this.rect(x + _Config.grid.pointDistance, y + _Config.grid.pointDistance, w, h);\n      this.type('.', x + _Config.grid.pointDistance + w / 2, y + _Config.grid.pointDistance + h / 2 + 5);\n      this.rect(x, y, w, h);\n      this.type('phalanx', x + 5, y + 15);\n    }\n  }]);\n\n  return Logo;\n}(_View3.default);\n\nexports.default = Logo;\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _PhalanxRoot2 = __webpack_require__(29);\n\nvar _PhalanxRoot3 = _interopRequireDefault(_PhalanxRoot2);\n\nvar _RootView = __webpack_require__(202);\n\nvar _RootView2 = _interopRequireDefault(_RootView);\n\nvar _Config = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar OverlayController = function (_PhalanxRoot) {\n  _inherits(OverlayController, _PhalanxRoot);\n\n  function OverlayController() {\n    _classCallCheck(this, OverlayController);\n\n    var _this = _possibleConstructorReturn(this, (OverlayController.__proto__ || Object.getPrototypeOf(OverlayController)).call(this));\n\n    _this.fonts = {};\n    return _this;\n  }\n\n  _createClass(OverlayController, [{\n    key: 'setRootView',\n    value: function setRootView() {\n      this.rootView = new _RootView2.default(this);\n    }\n  }, {\n    key: 'preload',\n    value: function preload() {\n      this.fonts.fugueRegular = this.p5.loadFont('assets/fugue-regular.ttf');\n      this.fonts.fugueMono = this.p5.loadFont('assets/fugue_mono.ttf');\n    }\n  }, {\n    key: 'setup',\n    value: function setup() {\n      this.canvas.canvas.style.position = 'fixed';\n      this.p5.noLoop();\n    }\n  }, {\n    key: 'preDraw',\n    value: function preDraw() {\n      this.p5.clear();\n    }\n  }, {\n    key: 'postDraw',\n    value: function postDraw() {}\n  }, {\n    key: 'onStartEditing',\n    value: function onStartEditing() {\n      this.rootView.showButtons();\n      this.p5.clear();\n      this.p5.redraw();\n    }\n  }, {\n    key: 'onDoneEditing',\n    value: function onDoneEditing() {\n      this.rootView.hideButtons();\n      this.p5.clear();\n      this.p5.redraw();\n    }\n  }, {\n    key: 'pointInMenu',\n    value: function pointInMenu(x, y) {\n      return this.rootView.pointInMenu(x, y);\n    }\n  }]);\n\n  return OverlayController;\n}(_PhalanxRoot3.default);\n\nexports.default = new OverlayController();\n\n/***/ }),\n\n/***/ 202:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nvar _Logo = __webpack_require__(200);\n\nvar _Logo2 = _interopRequireDefault(_Logo);\n\nvar _Version = __webpack_require__(204);\n\nvar _Version2 = _interopRequireDefault(_Version);\n\nvar _Toolbox = __webpack_require__(203);\n\nvar _Toolbox2 = _interopRequireDefault(_Toolbox);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nvar _SaveButton = __webpack_require__(211);\n\nvar _SaveButton2 = _interopRequireDefault(_SaveButton);\n\nvar _CancelButton = __webpack_require__(205);\n\nvar _CancelButton2 = _interopRequireDefault(_CancelButton);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RootView = function (_View) {\n  _inherits(RootView, _View);\n\n  function RootView(phalanxRoot) {\n    _classCallCheck(this, RootView);\n\n    var _this = _possibleConstructorReturn(this, (RootView.__proto__ || Object.getPrototypeOf(RootView)).call(this));\n\n    _this.root = phalanxRoot;\n    _this.logo = _this.addView(new _Logo2.default());\n    _this.version = _this.addView(new _Version2.default(_state2.default.version));\n    _this.toolbox = _this.addView(new _Toolbox2.default());\n\n    var btnY = window.innerHeight - (_Config.buttons.height + 1) * _Config.grid.pointDistance;\n    var btnRightX = window.innerWidth - (_Config.buttons.width + 1) * _Config.grid.pointDistance;\n    var btnLeftX = btnRightX - (_Config.buttons.width + 1) * _Config.grid.pointDistance;\n    _this.saveButton = _this.addView(new _SaveButton2.default(btnLeftX, btnY));\n    _this.cancelButton = _this.addView(new _CancelButton2.default(btnRightX, btnY));\n\n    _this.hideButtons();\n    return _this;\n  }\n\n  _createClass(RootView, [{\n    key: 'showButtons',\n    value: function showButtons() {\n      this.saveButton.disabled = this.cancelButton.disabled = false;\n    }\n  }, {\n    key: 'hideButtons',\n    value: function hideButtons() {\n      this.saveButton.disabled = this.cancelButton.disabled = true;\n    }\n  }, {\n    key: 'pointInMenu',\n    value: function pointInMenu(x, y) {\n      return this.toolbox.pointInView(x, y);\n    }\n  }]);\n\n  return RootView;\n}(_View3.default);\n\nexports.default = RootView;\n\n/***/ }),\n\n/***/ 203:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _Rect = __webpack_require__(13);\n\nvar _Rect2 = _interopRequireDefault(_Rect);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _MenuLine = __webpack_require__(208);\n\nvar _MenuLine2 = _interopRequireDefault(_MenuLine);\n\nvar _MenuBox = __webpack_require__(206);\n\nvar _MenuBox2 = _interopRequireDefault(_MenuBox);\n\nvar _MenuMove = __webpack_require__(209);\n\nvar _MenuMove2 = _interopRequireDefault(_MenuMove);\n\nvar _MenuRemove = __webpack_require__(210);\n\nvar _MenuRemove2 = _interopRequireDefault(_MenuRemove);\n\nvar _MenuImage = __webpack_require__(207);\n\nvar _MenuImage2 = _interopRequireDefault(_MenuImage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Toolbox = function (_View) {\n  _inherits(Toolbox, _View);\n\n  function Toolbox() {\n    _classCallCheck(this, Toolbox);\n\n    var _this = _possibleConstructorReturn(this, (Toolbox.__proto__ || Object.getPrototypeOf(Toolbox)).call(this));\n\n    _this.containerCoords = {\n      x: window.innerWidth - 5 * _Config.grid.pointDistance,\n      y: 2 * _Config.grid.pointDistance\n    };\n    _this.container = _this.addView(new _Rect2.default(_this.containerCoords.x, _this.containerCoords.y, 3 * _Config.grid.pointDistance, 13 * _Config.grid.pointDistance, _Config.grid.pointDistance, -_Config.grid.pointDistance));\n    _this.container.color = new _Color2.default(255, 0, 0);\n\n    _this.lineCoords = {\n      x: _this.containerCoords.x + _Config.grid.pointDistance,\n      y: _this.containerCoords.y + _Config.grid.pointDistance,\n      x2: _this.containerCoords.x + 2 * _Config.grid.pointDistance,\n      y2: _this.containerCoords.y + 2 * _Config.grid.pointDistance\n    };\n    _this.lineButton = _this.addView(new _MenuLine2.default(_this.lineCoords.x, _this.lineCoords.y, _this.lineCoords.x2, _this.lineCoords.y2));\n\n    _this.boxCoords = {\n      x: _this.containerCoords.x + _Config.grid.pointDistance,\n      y: _this.containerCoords.y + 3 * _Config.grid.pointDistance,\n      w: _Config.grid.pointDistance,\n      h: _Config.grid.pointDistance\n    };\n    _this.boxButton = _this.addView(new _MenuBox2.default(_this.boxCoords.x, _this.boxCoords.y, _this.boxCoords.w, _this.boxCoords.h));\n\n    _this.imageCoords = {\n      x: _this.containerCoords.x + _Config.grid.pointDistance,\n      y: _this.containerCoords.y + 5 * _Config.grid.pointDistance,\n      w: _Config.grid.pointDistance,\n      h: _Config.grid.pointDistance\n    };\n    _this.imageButton = _this.addView(new _MenuImage2.default(_this.imageCoords.x, _this.imageCoords.y, _this.imageCoords.w, _this.imageCoords.h));\n\n    _this.moveCoords = {\n      x: _this.containerCoords.x + _Config.grid.pointDistance,\n      y: _this.containerCoords.y + 7 * _Config.grid.pointDistance,\n      w: _Config.grid.pointDistance,\n      h: _Config.grid.pointDistance\n    };\n    _this.moveButton = _this.addView(new _MenuMove2.default(_this.moveCoords.x, _this.moveCoords.y, _this.moveCoords.w, _this.moveCoords.h));\n\n    _this.removeCoords = {\n      x: _this.containerCoords.x + _Config.grid.pointDistance,\n      y: _this.containerCoords.y + 9 * _Config.grid.pointDistance,\n      w: _Config.grid.pointDistance,\n      h: _Config.grid.pointDistance\n    };\n    _this.removeButton = _this.addView(new _MenuRemove2.default(_this.removeCoords.x, _this.removeCoords.y, _this.removeCoords.w, _this.removeCoords.h));\n    return _this;\n  }\n\n  _createClass(Toolbox, [{\n    key: 'pointInView',\n    value: function pointInView(x, y) {\n      return this.container.pointInView(x, y);\n    }\n  }]);\n\n  return Toolbox;\n}(_View3.default);\n\nexports.default = Toolbox;\n\n/***/ }),\n\n/***/ 204:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Version = function (_View) {\n  _inherits(Version, _View);\n\n  function Version(versionNumber) {\n    _classCallCheck(this, Version);\n\n    var _this = _possibleConstructorReturn(this, (Version.__proto__ || Object.getPrototypeOf(Version)).call(this));\n\n    _this._versionNumber = versionNumber;\n    return _this;\n  }\n\n  _createClass(Version, [{\n    key: 'draw',\n    value: function draw() {\n      var size = 12 * _Config.grid.pointDistance;\n      this.p5.textFont(this.root.fonts.fugueMono);\n      this.p5.noFill();\n      this.p5.stroke(this.p5.color(255, 0, 0));\n      this.p5.strokeWeight(1);\n      this.p5.textSize(size);\n      this.p5.textAlign(this.p5.CENTER, this.p5.CENTER);\n      this.p5.text(this.versionNumber, this.windowWidth / 2, this.windowHeight / 2);\n    }\n  }, {\n    key: 'versionNumber',\n    get: function get() {\n      return this._versionNumber;\n    },\n    set: function set(v) {\n      this._versionNumber = v;\n    }\n  }]);\n\n  return Version;\n}(_View3.default);\n\nexports.default = Version;\n\n/***/ }),\n\n/***/ 205:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _Button2 = __webpack_require__(71);\n\nvar _Button3 = _interopRequireDefault(_Button2);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CancelButton = function (_Button) {\n  _inherits(CancelButton, _Button);\n\n  function CancelButton(x, y, text) {\n    _classCallCheck(this, CancelButton);\n\n    return _possibleConstructorReturn(this, (CancelButton.__proto__ || Object.getPrototypeOf(CancelButton)).call(this, x, y, 'cancel'));\n  }\n\n  _createClass(CancelButton, [{\n    key: 'onClick',\n    value: function onClick() {\n      console.log('Cancelling...');\n      _state2.default.cancelEditing();\n    }\n  }]);\n\n  return CancelButton;\n}(_Button3.default);\n\nexports.default = CancelButton;\n\n/***/ }),\n\n/***/ 206:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _Config = __webpack_require__(0);\n\nvar _Rect2 = __webpack_require__(13);\n\nvar _Rect3 = _interopRequireDefault(_Rect2);\n\nvar _View = __webpack_require__(1);\n\nvar _View2 = _interopRequireDefault(_View);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MenuBox = function (_Rect) {\n  _inherits(MenuBox, _Rect);\n\n  function MenuBox(x, y, w, h) {\n    _classCallCheck(this, MenuBox);\n\n    var _this = _possibleConstructorReturn(this, (MenuBox.__proto__ || Object.getPrototypeOf(MenuBox)).call(this, x, y, w, h, 0, 0));\n\n    _this.color = new _Color2.default(255, 0, 0);\n    _this.listenTo('mousePressed');\n    return _this;\n  }\n\n  _createClass(MenuBox, [{\n    key: 'onEvent',\n    value: function onEvent(evt) {\n      switch (evt) {\n        case 'mousePressed':\n          if (this.pointInView(this.p5.mouseX, this.p5.mouseY)) {\n            _state2.default.startEditing(_state2.default.EDITING_MODES.BOX);\n          }\n          break;\n      }\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      if (_state2.default.isEditing && _state2.default.isBoxEditingMode) this.color = new _Color2.default(0, 255, 0);else this.color = new _Color2.default(255, 0, 0);\n      _get(MenuBox.prototype.__proto__ || Object.getPrototypeOf(MenuBox.prototype), 'draw', this).call(this);\n    }\n  }]);\n\n  return MenuBox;\n}(_Rect3.default);\n\nexports.default = MenuBox;\n\n/***/ }),\n\n/***/ 207:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _Config = __webpack_require__(0);\n\nvar _Rect2 = __webpack_require__(13);\n\nvar _Rect3 = _interopRequireDefault(_Rect2);\n\nvar _View = __webpack_require__(1);\n\nvar _View2 = _interopRequireDefault(_View);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MenuImage = function (_Rect) {\n  _inherits(MenuImage, _Rect);\n\n  function MenuImage(x, y, w, h) {\n    _classCallCheck(this, MenuImage);\n\n    var _this = _possibleConstructorReturn(this, (MenuImage.__proto__ || Object.getPrototypeOf(MenuImage)).call(this, x, y, w, h, 0, 0));\n\n    _this.color = new _Color2.default(255, 0, 0);\n    _this.listenTo('mousePressed');\n    return _this;\n  }\n\n  _createClass(MenuImage, [{\n    key: 'onEvent',\n    value: function onEvent(evt) {\n      switch (evt) {\n        case 'mousePressed':\n          if (this.pointInView(this.p5.mouseX, this.p5.mouseY)) {\n            _state2.default.startEditing(_state2.default.EDITING_MODES.IMAGE);\n          }\n          break;\n      }\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      if (_state2.default.isEditing && _state2.default.isImageEditingMode) this.color = new _Color2.default(0, 255, 0);else this.color = new _Color2.default(255, 0, 0);\n      _get(MenuImage.prototype.__proto__ || Object.getPrototypeOf(MenuImage.prototype), 'draw', this).call(this);\n      this.p5.push();\n      this.p5.stroke(this.color.array);\n      this.p5.line(this.x, this.y + this.height, this.x + this.width / 3, this.y + this.height / 2);\n      this.p5.line(this.x + this.width / 3, this.y + this.height / 2, this.x + this.width * 0.5, this.y + this.height * 0.7);\n      this.p5.line(this.x + this.width * 0.5, this.y + this.height * 0.7, this.x + this.width * 0.8, this.y + this.height * 0.4);\n      this.p5.line(this.x + this.width * 0.8, this.y + this.height * 0.4, this.x + this.width, this.y + this.height);\n      // this.p5.ellipse(this.x + this.width / 2, this.y + this.height / 2, this.width * 0.5, this.height * 0.5, 0, 0, 2 * Math.PI)\n      this.p5.pop();\n    }\n  }]);\n\n  return MenuImage;\n}(_Rect3.default);\n\nexports.default = MenuImage;\n\n/***/ }),\n\n/***/ 208:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _Config = __webpack_require__(0);\n\nvar _Line2 = __webpack_require__(17);\n\nvar _Line3 = _interopRequireDefault(_Line2);\n\nvar _View = __webpack_require__(1);\n\nvar _View2 = _interopRequireDefault(_View);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MenuLine = function (_Line) {\n  _inherits(MenuLine, _Line);\n\n  function MenuLine(x, y, x2, y2) {\n    _classCallCheck(this, MenuLine);\n\n    var _this = _possibleConstructorReturn(this, (MenuLine.__proto__ || Object.getPrototypeOf(MenuLine)).call(this, x, y, x2, y2));\n\n    _this.color = new _Color2.default(255, 0, 0);\n    _this.listenTo('mousePressed');\n    return _this;\n  }\n\n  _createClass(MenuLine, [{\n    key: 'onEvent',\n    value: function onEvent(evt) {\n      switch (evt) {\n        case 'mousePressed':\n          if (this.pointInView(this.p5.mouseX, this.p5.mouseY)) {\n            _state2.default.startEditing(_state2.default.EDITING_MODES.LINE);\n          }\n          break;\n      }\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      if (_state2.default.isEditing && _state2.default.isLineEditingMode) this.color = new _Color2.default(0, 255, 0);else this.color = new _Color2.default(255, 0, 0);\n      _get(MenuLine.prototype.__proto__ || Object.getPrototypeOf(MenuLine.prototype), 'draw', this).call(this);\n    }\n  }]);\n\n  return MenuLine;\n}(_Line3.default);\n\nexports.default = MenuLine;\n\n/***/ }),\n\n/***/ 209:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _Line = __webpack_require__(17);\n\nvar _Line2 = _interopRequireDefault(_Line);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MenuMove = function (_View) {\n  _inherits(MenuMove, _View);\n\n  function MenuMove(x, y, w, h) {\n    _classCallCheck(this, MenuMove);\n\n    var _this = _possibleConstructorReturn(this, (MenuMove.__proto__ || Object.getPrototypeOf(MenuMove)).call(this));\n\n    _this.x = x;\n    _this.y = y;\n    _this.w = w;\n    _this.h = h;\n    _this.color = new _Color2.default(255, 0, 0);\n    _this.listenTo('mousePressed');\n    return _this;\n  }\n\n  _createClass(MenuMove, [{\n    key: 'pointInView',\n    value: function pointInView(x, y) {\n      if (x >= this.x && x <= this.x + this.w && y >= this.y && y <= this.y + this.h) return true;\n      return false;\n    }\n  }, {\n    key: 'onEvent',\n    value: function onEvent(evt) {\n      switch (evt) {\n        case 'mousePressed':\n          if (this.pointInView(this.p5.mouseX, this.p5.mouseY)) {\n            _state2.default.startEditing(_state2.default.EDITING_MODES.MOVE);\n          }\n          break;\n      }\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      var _p;\n\n      if (_state2.default.isEditing && _state2.default.isMoveEditingMode) this.color = new _Color2.default(0, 255, 0);else this.color = new _Color2.default(255, 0, 0);\n\n      this.p5.noFill();\n      this.p5.stroke((_p = this.p5).color.apply(_p, _toConsumableArray(this.color.array)));\n      this.p5.line(this.x + this.w / 2, this.y, this.x + this.w / 2, this.y + this.h);\n      this.p5.line(this.x, this.y + this.h / 2, this.x + this.w, this.y + this.h / 2);\n    }\n  }]);\n\n  return MenuMove;\n}(_View3.default);\n\nexports.default = MenuMove;\n\n/***/ }),\n\n/***/ 210:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _Line = __webpack_require__(17);\n\nvar _Line2 = _interopRequireDefault(_Line);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MenuRemove = function (_View) {\n  _inherits(MenuRemove, _View);\n\n  function MenuRemove(x, y, w, h) {\n    _classCallCheck(this, MenuRemove);\n\n    var _this = _possibleConstructorReturn(this, (MenuRemove.__proto__ || Object.getPrototypeOf(MenuRemove)).call(this));\n\n    _this.x = x;\n    _this.y = y;\n    _this.w = w;\n    _this.h = h;\n    _this.color = new _Color2.default(255, 0, 0);\n    _this.listenTo('mousePressed');\n    return _this;\n  }\n\n  _createClass(MenuRemove, [{\n    key: 'pointInView',\n    value: function pointInView(x, y) {\n      if (x >= this.x && x <= this.x + this.w && y >= this.y && y <= this.y + this.h) return true;\n      return false;\n    }\n  }, {\n    key: 'onEvent',\n    value: function onEvent(evt) {\n      switch (evt) {\n        case 'mousePressed':\n          if (this.pointInView(this.p5.mouseX, this.p5.mouseY)) {\n            _state2.default.startEditing(_state2.default.EDITING_MODES.REMOVE);\n          }\n          break;\n      }\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      var _p;\n\n      if (_state2.default.isEditing && _state2.default.isRemoveEditingMode) this.color = new _Color2.default(0, 255, 0);else this.color = new _Color2.default(255, 0, 0);\n\n      this.p5.noFill();\n      this.p5.stroke((_p = this.p5).color.apply(_p, _toConsumableArray(this.color.array)));\n      this.p5.line(this.x, this.y, this.x + this.w, this.y + this.h);\n      this.p5.line(this.x + this.w, this.y, this.x, this.y + this.h);\n    }\n  }]);\n\n  return MenuRemove;\n}(_View3.default);\n\nexports.default = MenuRemove;\n\n/***/ }),\n\n/***/ 211:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _Button2 = __webpack_require__(71);\n\nvar _Button3 = _interopRequireDefault(_Button2);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SaveButton = function (_Button) {\n  _inherits(SaveButton, _Button);\n\n  function SaveButton(x, y, text) {\n    _classCallCheck(this, SaveButton);\n\n    return _possibleConstructorReturn(this, (SaveButton.__proto__ || Object.getPrototypeOf(SaveButton)).call(this, x, y, 'save'));\n  }\n\n  _createClass(SaveButton, [{\n    key: 'onClick',\n    value: function onClick() {\n      console.log('Saving...');\n      _state2.default.saveEditing();\n    }\n  }]);\n\n  return SaveButton;\n}(_Button3.default);\n\nexports.default = SaveButton;\n\n/***/ }),\n\n/***/ 212:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _PhalanxRoot2 = __webpack_require__(29);\n\nvar _PhalanxRoot3 = _interopRequireDefault(_PhalanxRoot2);\n\nvar _RootView = __webpack_require__(213);\n\nvar _RootView2 = _interopRequireDefault(_RootView);\n\nvar _Config = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MainController = function (_PhalanxRoot) {\n  _inherits(MainController, _PhalanxRoot);\n\n  function MainController() {\n    _classCallCheck(this, MainController);\n\n    return _possibleConstructorReturn(this, (MainController.__proto__ || Object.getPrototypeOf(MainController)).call(this));\n  }\n\n  _createClass(MainController, [{\n    key: 'setRootView',\n    value: function setRootView() {\n      this.rootView = new _RootView2.default(this);\n    }\n  }, {\n    key: 'setup',\n    value: function setup() {\n      this.canvas.style('position', 'absolute');\n      this.p5.noLoop();\n    }\n  }, {\n    key: 'preDraw',\n    value: function preDraw() {\n      this.p5.clear();\n    }\n  }, {\n    key: 'postDraw',\n    value: function postDraw() {}\n  }, {\n    key: 'getContents',\n    value: function getContents() {\n      return this.rootView.dynamicContent.children.slice(0);\n    }\n  }, {\n    key: 'getAndClearContents',\n    value: function getAndClearContents() {\n      var childrenToEdit = [];\n      var currentChildren = this.rootView.dynamicContent.children.slice(0);\n      this.rootView.dynamicContent.children.forEach(function (child) {\n        return childrenToEdit.push(child.duplicate());\n      });\n      this.rootView.dynamicContent.removeAll();\n      return {\n        childrenToEdit: childrenToEdit,\n        oldChildren: currentChildren\n      };\n    }\n  }, {\n    key: 'setContents',\n    value: function setContents(viewArray) {\n      var _this2 = this;\n\n      this.rootView.dynamicContent.removeAll();\n      viewArray.forEach(function (view) {\n        return _this2.rootView.dynamicContent.addView(view);\n      });\n    }\n  }, {\n    key: 'onDoneEditing',\n    value: function onDoneEditing() {\n      this.p5.clear();\n      this.redraw();\n    }\n  }]);\n\n  return MainController;\n}(_PhalanxRoot3.default);\n\nexports.default = new MainController();\n\n/***/ }),\n\n/***/ 213:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nvar _Line = __webpack_require__(17);\n\nvar _Line2 = _interopRequireDefault(_Line);\n\nvar _Rect = __webpack_require__(13);\n\nvar _Rect2 = _interopRequireDefault(_Rect);\n\nvar _ImageRect = __webpack_require__(72);\n\nvar _ImageRect2 = _interopRequireDefault(_ImageRect);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RootView = function (_View) {\n  _inherits(RootView, _View);\n\n  function RootView(phalanxRoot) {\n    _classCallCheck(this, RootView);\n\n    var _this = _possibleConstructorReturn(this, (RootView.__proto__ || Object.getPrototypeOf(RootView)).call(this));\n\n    _this.root = phalanxRoot;\n    // this.content = this.addView(new View())\n    _this.dynamicContent = _this.addView(new _View3.default());\n    _this.setupContent();\n    return _this;\n  }\n\n  _createClass(RootView, [{\n    key: 'setupContent',\n    value: function setupContent() {\n      this.dynamicContent.addView(new _Line2.default(105, 105, 190, 190));\n      this.dynamicContent.addView(new _Rect2.default(145, 175, 75, 120, 15, 15));\n      this.dynamicContent.addView(new _Rect2.default(265, 195, 75, 120, 30, -15));\n      this.dynamicContent.addView(new _ImageRect2.default(465, 495, 175, 120, 30, -15, 'https://www.gakkoproject.com/assets/people/graham_banfield-a6234aa97d37f4fd6f1c6f6dee91fde69fe942e18092b686411024bc3bb89d60.jpg'));\n    }\n  }]);\n\n  return RootView;\n}(_View3.default);\n\nexports.default = RootView;\n\n/***/ }),\n\n/***/ 214:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _cloudinaryCore = __webpack_require__(81);\n\nvar _cloudinaryCore2 = _interopRequireDefault(_cloudinaryCore);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar cloudName = 'phalanx-space';\nvar unsignedUploadPreset = 'xpzufbzn';\n\nvar ImageHandler = function () {\n  function ImageHandler() {\n    _classCallCheck(this, ImageHandler);\n\n    this.cl = new _cloudinaryCore2.default.Cloudinary({ cloud_name: \"phalanx-space\", secure: true });\n  }\n\n  _createClass(ImageHandler, [{\n    key: 'uploadImage',\n    value: function uploadImage(files, doneCallback, failedCallback, progressCallback) {\n      var file = files[0];\n\n      var url = 'https://api.cloudinary.com/v1_1/' + cloudName + '/upload';\n      var xhr = new XMLHttpRequest();\n      var fd = new FormData();\n      xhr.open('POST', url, true);\n      xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n      // Reset the upload progress bar\n      // document.getElementById('progress').style.width = 0;\n\n      // Update progress (can be used to show progress indicator)\n      xhr.upload.addEventListener(\"progress\", function (e) {\n        var progress = Math.round(e.loaded * 100.0 / e.total);\n        if (progressCallback) progressCallback(progress);\n        console.log('fileuploadprogress data.loaded: ' + e.loaded + ', data.total: ' + e.total);\n      });\n\n      xhr.onreadystatechange = function (e) {\n        if (xhr.readyState == 4 && xhr.status == 200) {\n          // File uploaded successfully\n          var response = JSON.parse(xhr.responseText);\n          // https://res.cloudinary.com/cloudName/image/upload/v1483481128/public_id.jpg\n          var url = response.secure_url;\n          console.log('DONE: ', url);\n          doneCallback(url);\n        } else {\n          if (failedCallback) failedCallback(e);\n        }\n      };\n\n      fd.append('upload_preset', unsignedUploadPreset);\n      fd.append('tags', 'browser_upload'); // Optional - add tag for image admin in Cloudinary\n      fd.append('file', file);\n      xhr.send(fd);\n    }\n  }]);\n\n  return ImageHandler;\n}();\n\nexports.default = new ImageHandler();\n\n// var fileSelect = document.getElementById(\"fileSelect\"),\n//   fileElem = document.getElementById(\"fileElem\");\n\n// fileSelect.addEventListener(\"click\", function(e) {\n//   if (fileElem) {\n//     fileElem.click();\n//   }\n//   e.preventDefault(); // prevent navigation to \"#\"\n// }, false);\n\n// // ************************ Drag and drop ***************** //\n// function dragenter(e) {\n//   e.stopPropagation();\n//   e.preventDefault();\n// }\n\n// function dragover(e) {\n//   e.stopPropagation();\n//   e.preventDefault();\n// }\n\n// dropbox = document.getElementById(\"dropbox\");\n// dropbox.addEventListener(\"dragenter\", dragenter, false);\n// dropbox.addEventListener(\"dragover\", dragover, false);\n// dropbox.addEventListener(\"drop\", drop, false);\n\n// function drop(e) {\n//   e.stopPropagation();\n//   e.preventDefault();\n\n//   var dt = e.dataTransfer;\n//   var files = dt.files;\n\n//   handleFiles(files);\n// }\n\n// // *********** Upload file to Cloudinary ******************** //\n// function uploadFile(file) {\n//   var url = `https://api.cloudinary.com/v1_1/${cloudName}/upload`;\n//   var xhr = new XMLHttpRequest();\n//   var fd = new FormData();\n//   xhr.open('POST', url, true);\n//   xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n//   // Reset the upload progress bar\n//    document.getElementById('progress').style.width = 0;\n\n//   // Update progress (can be used to show progress indicator)\n//   xhr.upload.addEventListener(\"progress\", function(e) {\n//     var progress = Math.round((e.loaded * 100.0) / e.total);\n//     document.getElementById('progress').style.width = progress + \"%\";\n\n//     console.log(`fileuploadprogress data.loaded: ${e.loaded},\n//   data.total: ${e.total}`);\n//   });\n\n//   xhr.onreadystatechange = function(e) {\n//     if (xhr.readyState == 4 && xhr.status == 200) {\n//       // File uploaded successfully\n//       var response = JSON.parse(xhr.responseText);\n//       // https://res.cloudinary.com/cloudName/image/upload/v1483481128/public_id.jpg\n//       var url = response.secure_url;\n//       // Create a thumbnail of the uploaded image, with 150px width\n//       var tokens = url.split('/');\n//       tokens.splice(-2, 0, 'w_150,c_scale');\n//       var img = new Image(); // HTML5 Constructor\n//       img.src = tokens.join('/');\n//       img.alt = response.public_id;\n//       document.getElementById('gallery').appendChild(img);\n//     }\n//   };\n\n//   fd.append('upload_preset', unsignedUploadPreset);\n//   fd.append('tags', 'browser_upload'); // Optional - add tag for image admin in Cloudinary\n//   fd.append('file', file);\n//   xhr.send(fd);\n// }\n\n// // *********** Handle selected files ******************** //\n// var handleFiles = function(files) {\n//   for (var i = 0; i < files.length; i++) {\n//     uploadFile(files[i]); // call the function to upload the file\n//   }\n// };\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Config = __webpack_require__(0);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SUPPORTED_EVENTS = ['mousePressed', 'mouseMoved', 'mouseDragged', 'mouseReleased'];\n\nvar PhalanxRoot = function () {\n  function PhalanxRoot() {\n    _classCallCheck(this, PhalanxRoot);\n\n    this._p5 = null;\n    this.listeners = {};\n  }\n\n  _createClass(PhalanxRoot, [{\n    key: 'isEventSupported',\n    value: function isEventSupported(evt) {\n      return SUPPORTED_EVENTS.indexOf(evt) != -1;\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      if (!this.p5) return;\n      this.p5.preload = this._preload.bind(this);\n      this.p5.setup = this._setup.bind(this);\n      this.p5.draw = this._draw.bind(this);\n      this.p5.mousePressed = this._propagateP5Event.bind(this, 'mousePressed');\n      this.p5.mouseMoved = this._propagateP5Event.bind(this, 'mouseMoved');\n      this.p5.mouseDragged = this._propagateP5Event.bind(this, 'mouseDragged');\n      this.p5.mouseReleased = this._propagateP5Event.bind(this, 'mouseReleased');\n    }\n  }, {\n    key: 'setRootView',\n    value: function setRootView() {}\n    // P5 lifecycle\n\n  }, {\n    key: '_preload',\n    value: function _preload() {\n      this.preload();\n    }\n  }, {\n    key: 'preload',\n    value: function preload() {}\n  }, {\n    key: '_setup',\n    value: function _setup() {\n      this.canvas = this.p5.createCanvas(_Config.canvasSize.width, _Config.canvasSize.height);\n      this.setRootView();\n      this.setup();\n    }\n  }, {\n    key: 'setup',\n    value: function setup() {}\n  }, {\n    key: 'redraw',\n    value: function redraw() {\n      this.p5.redraw();\n    }\n  }, {\n    key: '_draw',\n    value: function _draw() {\n      this.preDraw();\n      if (this.rootView) this.rootView._draw();\n      this.postDraw();\n    }\n  }, {\n    key: 'preDraw',\n    value: function preDraw() {}\n  }, {\n    key: 'postDraw',\n    value: function postDraw() {}\n\n    // P5 events\n\n  }, {\n    key: 'addListener',\n    value: function addListener(evt, view) {\n      if (!this.isEventSupported(evt)) {\n        console.warn('No such P5 event!');\n        return;\n      }\n      if (!this.listeners[evt]) this.listeners[evt] = [];\n      if (this.listeners[evt].indexOf(view) != -1) return;\n      this.listeners[evt].push(view);\n    }\n  }, {\n    key: 'removeListener',\n    value: function removeListener(evt, view) {\n      if (!this.isEventSupported(evt)) {\n        console.warn('No such P5 event!');\n        return;\n      }\n      if (!this.listeners[evt]) return;\n      var index = this.listeners[evt].indexOf(view);\n      // console.log('removeListener', evt, view, this.listeners[evt], index)\n      this.listeners[evt].splice(index, 1);\n      // console.log('removeListener', evt, view, this.listeners[evt])\n    }\n  }, {\n    key: '_propagateP5Event',\n    value: function _propagateP5Event(evt) {\n      if (!this.listeners[evt]) return;\n      this.listeners[evt].forEach(function (view) {\n        return view._onEvent(evt);\n      });\n      return false;\n    }\n  }, {\n    key: 'p5',\n    set: function set(p5) {\n      this._p5 = p5;\n    },\n    get: function get() {\n      return this._p5;\n    }\n  }, {\n    key: 'windowWidth',\n    get: function get() {\n      return this.p5.windowWidth;\n    }\n  }, {\n    key: 'windowHeight',\n    get: function get() {\n      return this.p5.windowHeight;\n    }\n  }]);\n\n  return PhalanxRoot;\n}();\n\nexports.default = PhalanxRoot;\n\n/***/ }),\n\n/***/ 3:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar EDITING_MODES = {\n  LINE: 'LINE',\n  BOX: 'BOX',\n  MOVE: 'MOVE',\n  REMOVE: 'REMOVE',\n  IMAGE: 'IMAGE'\n};\n\nvar GlobalState = function () {\n  function GlobalState() {\n    _classCallCheck(this, GlobalState);\n\n    this._state = {\n      editing: false,\n      editingMode: null,\n      version: 0\n    };\n    this._editController = null;\n  }\n\n  _createClass(GlobalState, [{\n    key: 'registerEditController',\n    value: function registerEditController(c) {\n      this._editController = c;\n    }\n  }, {\n    key: 'registerMenuController',\n    value: function registerMenuController(c) {\n      this._menuController = c;\n    }\n  }, {\n    key: 'registerMainController',\n    value: function registerMainController(c) {\n      this._mainController = c;\n    }\n  }, {\n    key: 'pointInMenu',\n    value: function pointInMenu(x, y) {\n      return this._menuController.pointInMenu(x, y);\n    }\n  }, {\n    key: 'startEditing',\n    value: function startEditing(editingMode) {\n      if (!this._state.editing) {\n        this._state.editing = true;\n        this._state.editingMode = editingMode;\n\n        this._editController.onStartEditing();\n        this._menuController.onStartEditing();\n\n        this.currentContents = this._mainController.getAndClearContents();\n        this._editController.setContents(this.currentContents.childrenToEdit);\n        this._mainController.redraw();\n      } else {\n        console.log('change editing mode');\n        this._state.editingMode = editingMode;\n        this._menuController.redraw();\n      }\n    }\n  }, {\n    key: 'saveEditing',\n    value: function saveEditing() {\n      var contentView = this._editController.getContents();\n      this._state.editing = false;\n      this._state.editingMode = null;\n      this._mainController.setContents(contentView.children);\n      this._mainController.onDoneEditing();\n      this._editController.onDoneEditing();\n      this._menuController.onDoneEditing();\n\n      // Remove old views that were stored in case the user tapped cancel\n      delete this.currentContents.oldChildren;\n    }\n  }, {\n    key: 'cancelEditing',\n    value: function cancelEditing() {\n      this._state.editing = false;\n      this._state.editingMode = null;\n      this._mainController.setContents(this.currentContents.oldChildren);\n      this._mainController.onDoneEditing();\n      this._editController.onDoneEditing();\n      this._menuController.onDoneEditing();\n\n      // Remove newly created children\n      delete this.currentContents.childrenToEdit;\n    }\n  }, {\n    key: 'version',\n    get: function get() {\n      return this._state.version;\n    }\n  }, {\n    key: 'EDITING_MODES',\n    get: function get() {\n      return EDITING_MODES;\n    }\n  }, {\n    key: 'isEditing',\n    get: function get() {\n      return this._state.editing;\n    }\n  }, {\n    key: 'isLineEditingMode',\n    get: function get() {\n      return this._state.editingMode === this.EDITING_MODES.LINE;\n    }\n  }, {\n    key: 'isBoxEditingMode',\n    get: function get() {\n      return this._state.editingMode === this.EDITING_MODES.BOX;\n    }\n  }, {\n    key: 'isMoveEditingMode',\n    get: function get() {\n      return this._state.editingMode === this.EDITING_MODES.MOVE;\n    }\n  }, {\n    key: 'isRemoveEditingMode',\n    get: function get() {\n      return this._state.editingMode === this.EDITING_MODES.REMOVE;\n    }\n  }, {\n    key: 'isImageEditingMode',\n    get: function get() {\n      return this._state.editingMode === this.EDITING_MODES.IMAGE;\n    }\n  }]);\n\n  return GlobalState;\n}();\n\nexports.default = new GlobalState();\n\n/***/ }),\n\n/***/ 71:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _View2 = __webpack_require__(1);\n\nvar _View3 = _interopRequireDefault(_View2);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _Config = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Button = function (_View) {\n  _inherits(Button, _View);\n\n  function Button(x, y, text) {\n    _classCallCheck(this, Button);\n\n    var _this = _possibleConstructorReturn(this, (Button.__proto__ || Object.getPrototypeOf(Button)).call(this));\n\n    _this.x = x;\n    _this.y = y;\n    _this.text = text;\n    _this.textSize = _Config.grid.pointDistance - 2;\n    _this.textPadding = 5;\n    _this.width = _Config.grid.pointDistance * _Config.buttons.width;\n    _this.height = _Config.grid.pointDistance * _Config.buttons.height;\n    _this.dx = 0;\n    _this.dy = 0;\n    _this._color = new _Color2.default(255, 0, 0);\n    _this.listenTo('mousePressed');\n    return _this;\n  }\n\n  _createClass(Button, [{\n    key: 'pointInView',\n    value: function pointInView(x, y) {\n      if (x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height) {\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: 'type',\n    value: function type(text, x, y) {\n      var _p;\n\n      this.p5.push();\n      this.p5.textFont(this.root.fonts.fugueRegular);\n      this.p5.noStroke();\n      (_p = this.p5).fill.apply(_p, _toConsumableArray(this.color.array));\n      this.p5.textSize(_Config.grid.pointDistance - 2);\n      this.p5.text(text, x, y);\n      this.p5.pop();\n    }\n  }, {\n    key: 'onClick',\n    value: function onClick() {}\n  }, {\n    key: 'onEvent',\n    value: function onEvent(evt) {\n      switch (evt) {\n        case 'mousePressed':\n          if (this.pointInView(this.p5.mouseX, this.p5.mouseY)) this.onClick();\n          break;\n      }\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      var _p2;\n\n      this.p5.stroke((_p2 = this.p5).color.apply(_p2, _toConsumableArray(this.color.array)));\n      this.p5.rect(this.x, this.y, this.width, this.height);\n      this.type(this.text, this.x + this.textPadding, this.y + this.textSize);\n    }\n  }, {\n    key: 'color',\n    get: function get() {\n      return this._color;\n    },\n    set: function set(c) {\n      this._color = c;\n    }\n  }]);\n\n  return Button;\n}(_View3.default);\n\nexports.default = Button;\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _Config = __webpack_require__(0);\n\nvar _Rect2 = __webpack_require__(13);\n\nvar _Rect3 = _interopRequireDefault(_Rect2);\n\nvar _Color = __webpack_require__(2);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ImageRect = function (_Rect) {\n  _inherits(ImageRect, _Rect);\n\n  function ImageRect(x, y, w, h, dx, dy, url) {\n    _classCallCheck(this, ImageRect);\n\n    var _this = _possibleConstructorReturn(this, (ImageRect.__proto__ || Object.getPrototypeOf(ImageRect)).call(this, x, y, w, h, dx, dy));\n\n    _this._url = url;\n    _this._loaded = false;\n    _this._imageParams = {};\n    return _this;\n  }\n\n  _createClass(ImageRect, [{\n    key: 'loadImg',\n    value: function loadImg() {\n      if (this.url) {\n        this._img = this.p5.createImg(this._url, '', this.loadedCallback.bind(this));\n        this._img.hide();\n      }\n    }\n  }, {\n    key: 'onRoot',\n    value: function onRoot() {\n      this.loadImg();\n    }\n  }, {\n    key: 'duplicate',\n    value: function duplicate() {\n      return new ImageRect(this._x, this._y, this._width, this._height, this.dx, this.dy, this._url);\n    }\n  }, {\n    key: 'loadedCallback',\n    value: function loadedCallback() {\n      this._loaded = true;\n      if (this._img.width / this.nwidth < this._img.height / this.nheight) {\n        // Fit on width\n        this._imageParams.scaleFactor = 1 / (this._img.width / this.nwidth);\n        this._imageParams.sx = 0;\n        this._imageParams.sw = this._img.width;\n        this._imageParams.totalCrop = (this._imageParams.scaleFactor * this._img.height - this.nheight) * (1 / this._imageParams.scaleFactor);\n        this._imageParams.sy = this._imageParams.totalCrop / 2;\n        this._imageParams.sh = this._img.height - this._imageParams.totalCrop;\n      } else {\n        // Fit on height\n        this._imageParams.scaleFactor = 1 / (this._img.height / this.nheight);\n        this._imageParams.sy = 0;\n        this._imageParams.sh = this._img.height;\n        this._imageParams.totalCrop = (this._imageParams.scaleFactor * this._img.width - this.nwidth) * (1 / this._imageParams.scaleFactor);\n        this._imageParams.sx = this._imageParams.totalCrop / 2;\n        this._imageParams.sw = this._img.width - this._imageParams.totalCrop;\n      }\n      this.redraw();\n    }\n  }, {\n    key: 'draw',\n    value: function draw() {\n      _get(ImageRect.prototype.__proto__ || Object.getPrototypeOf(ImageRect.prototype), 'draw', this).call(this);\n      if (this._loaded) {\n        this.p5.image(this._img, this.nx + 1, this.ny + 1, this.nwidth - 1, this.nheight - 1, this._imageParams.sx, this._imageParams.sy, this._imageParams.sw, this._imageParams.sh);\n      } else {\n        this.p5.push();\n        this.p5.noStroke();\n        this.p5.fill(this._color.array);\n        this.p5.text('Loading image...', this.nx + 5, this.ny + 5, this.nwidth, this.nheight);\n        this.p5.pop();\n      }\n    }\n  }, {\n    key: 'isImageRect',\n    get: function get() {\n      return true;\n    }\n  }, {\n    key: 'url',\n    get: function get() {\n      return this._url;\n    },\n    set: function set(u) {\n      this._loaded = false;\n      this._url = u;\n      this.loadImg();\n      this.redraw();\n    }\n  }]);\n\n  return ImageRect;\n}(_Rect3.default);\n\nexports.default = ImageRect;\n\n/***/ }),\n\n/***/ 75:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = edit;\n\nvar _EditController = __webpack_require__(194);\n\nvar _EditController2 = _interopRequireDefault(_EditController);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction edit(s) {\n  _EditController2.default.p5 = s;\n  _EditController2.default.start();\n  _state2.default.registerEditController(_EditController2.default);\n}\n\n/***/ }),\n\n/***/ 76:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = sketch;\n\nvar _GridController = __webpack_require__(197);\n\nvar _GridController2 = _interopRequireDefault(_GridController);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction sketch(s) {\n  _GridController2.default.p5 = s;\n  _GridController2.default.start();\n}\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = overlay;\n\nvar _OverlayController = __webpack_require__(201);\n\nvar _OverlayController2 = _interopRequireDefault(_OverlayController);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction overlay(s) {\n  _OverlayController2.default.p5 = s;\n  _OverlayController2.default.start();\n  _state2.default.registerMenuController(_OverlayController2.default);\n}\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = sketch;\n\nvar _MainController = __webpack_require__(212);\n\nvar _MainController2 = _interopRequireDefault(_MainController);\n\nvar _state = __webpack_require__(3);\n\nvar _state2 = _interopRequireDefault(_state);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction sketch(s) {\n  _MainController2.default.p5 = s;\n  _MainController2.default.start();\n  _state2.default.registerMainController(_MainController2.default);\n}\n\n/***/ })\n\n},[199]);\n\n\n// WEBPACK FOOTER //\n// bundle.07faceb97ddff914936a.js","const canvasSize = {\n  width: 1600,\n  height: 1200\n}\n\nconst grid = {\n  topLeft: {\n    x: 0,\n    y: 0\n  },\n  bottomRight: {\n    x: canvasSize.width,\n    y: canvasSize.height\n  },\n  pointDistance: 15,\n  pointSize: 1\n}\n\nconst buttons = {\n  width: 5,\n  height: 2\n}\n\n\nmodule.exports = {\n  canvasSize: canvasSize,\n  grid: grid,\n  buttons: buttons\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Config.js","import { canvasSize, grid } from '../Config'\n\nexport default class View {\n  constructor() {\n    this._root = null\n    this._children = []\n    this._preRootListenTo = []\n    this._disabled = false\n    this._highlight = false\n  }\n  get uid() { return this._uid }\n  get root() {\n    if (!this._root && this.parent)\n      this._root = this.parent.root\n    return this._root\n  }\n  set root(r) {\n    if (!r) return\n    this._root = r\n    this._children.forEach(c => c.root = r)\n    if (this._preRootListenTo.length) {\n      this._preRootListenTo.forEach(evt => this.listenTo(evt))\n      this._preRootListenTo = []\n    }\n    this.onRoot()\n  }\n  onRoot() { }\n  get p5() { return this.root.p5 }\n  redraw() { this.p5.redraw() }\n  get canvas() { return this.root.canvas }\n  get windowWidth() { return this.root ? this.root.windowWidth : 0 }\n  get windowHeight() { return this.root ? this.root.windowHeight : 0 }\n\n  get children() { return this._children }\n  get disabled() { \n    if (!this.parent) return this._disabled\n    return this._disabled || this.parent.disabled\n  }\n  set disabled(d) { this._disabled = d }\n  get highlight() { return this._highlight }\n  set highlight(h) { this._highlight = h }\n\n  get isRect() { return false }\n  get isImageRect() { return false }\n\n  duplicate() {\n    console.warn('pointInView Not implemented for current view!')\n    return null    \n  }\n\n  pointInView(x, y) {\n    console.warn('pointInView Not implemented for current view!')\n    return false\n  }\n\n  getGridAligned(x) {\n    let mod = x % grid.pointDistance\n    return (2 * mod > grid.pointDistance) ? x + (grid.pointDistance - mod) : x - mod\n  }\n\n  // View hierarchy tree\n  addView(view) {\n    if (this.root) view.root = this.root\n    view.parent = this\n    this.children.push(view)\n    view.onAdded()\n    return view\n  }\n  onAdded() { }\n  removeView(view) {\n    if (view.root === this.root) view.root = null\n    view.parent = null\n    const index = this._children.indexOf(view)\n    this._children.splice(index, 1)\n    view.onRemoved()\n  }\n  removeAll() {\n    while (this._children.length > 0) {\n      const child = this._children[0]\n      this.removeView(child)\n    }\n  }\n  onRemoved() { }\n\n  // Events\n  listenTo(evt) {\n    if (!this.root) {\n      this._preRootListenTo.push(evt)\n    } else {\n      this.root.addListener(evt, this)\n    }\n  }\n  stopListening(evt) {\n    this.root.removeListener(evt, this)\n  }\n  _onEvent(evt) {\n    if (this.disabled) return\n    this.onEvent(evt)\n  }\n  onEvent(evt) {}\n\n  // Drawing\n  _draw() {\n    if (!this.root || this.disabled) return\n    this.p5.push()\n    this.draw()\n    this.children.forEach(child => child._draw())\n    this.p5.pop()\n  }\n  draw() { }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/View.js","import { canvasSize, grid } from '../Config'\nimport View from './View'\nimport Color from './Color'\n\nexport default class Rect extends View {\n  constructor(x, y, w, h, dx, dy) {\n    super()\n    this._x = x\n    this._y = y\n    this._width = w\n    this._height = h\n    this.dx = dx || 0\n    this.dy = dy || 0\n    this._color = new Color(0, 0, 255)\n    this._highlightColor = new Color(255, 255, 0, 0.2)\n  }\n  duplicate() {\n    return new Rect(this._x, this._y, this._width, this._height, this.dx, this.dy)\n  }\n  get isRect() { return true }\n  get x() { return this._x }\n  get y() { return this._y }\n  get width() { return this._width }\n  get height() { return this._height }\n  get nx() { return Math.min(this._x, this._x + this.width) }\n  get ny() { return Math.min(this._y, this._y + this.height) }\n  get nwidth() { return Math.abs(this._width) }\n  get nheight() { return Math.abs(this._height) }\n  set x(x) { this._x = x }\n  set y(y) { this._y = y }\n  set width(w) { this._width = w }\n  set height(h) { this._height = h }\n  get color() { return this._color }\n  set color(c) { this._color = c }\n  get left() {\n    let minX = Math.min(this.x, this.x + this.width)\n    if (this.dx <= 0) minX = minX + this.dx\n    return minX\n  }\n  get right() {\n    let maxX = Math.max(this.x, this.x + this.width)\n    if (this.dx > 0) maxX = maxX + this.dx\n    return maxX\n  }\n  get top() {\n    let minY = Math.min(this.y, this.y + this.height)\n    if (this.dy <= 0) minY = minY + this.dy\n    return minY\n  }\n  get bottom() {\n    let maxY = Math.max(this.y, this.y + this.height)\n    if (this.dy > 0) maxY = maxY + this.dy\n    return maxY\n  }\n  pointInView(x, y) {\n    // let minX = Math.min(this.x, this.x + this.width), maxX = Math.max(this.x, this.x + this.width)\n    // let minY = Math.min(this.y, this.y + this.height), maxY = Math.max(this.y, this.y + this.height)\n    // if (this.dx <= 0) minX = minX - this.dx\n    // else maxX = maxX + this.dx\n    // if (this.dy <= 0) minY = minY - this.dy\n    // else maxY = maxY + this.dy\n\n    if (x >= this.left && x <= this.right &&\n        y >= this.top && y <= this.bottom) return true\n    return false\n  }\n  draw() {\n    // this.p5.stroke(this.p5.color(this.color.r, this.color.g, this.color.b))\n    this.p5.stroke(this.p5.color(...this.color.array))\n    this.p5.rect(this.x, this.y, this.width, this.height)\n    if (this.dx || this.dy) {\n      this.p5.fill(this.p5.color(...this.color.array))\n      const offsetX = this.dx < 0 ? 0 : this.nwidth\n      const offsetY = this.dy < 0 ? 0 : this.nheight\n      // OX depth\n      this.p5.beginShape()\n      this.p5.vertex(offsetX + this.nx, this.ny)\n      this.p5.vertex(offsetX + this.nx + this.dx, this.ny + this.dy)\n      this.p5.vertex(offsetX + this.nx + this.dx, this.ny + this.nheight + this.dy)\n      this.p5.vertex(offsetX + this.nx, this.ny + this.nheight)\n      this.p5.endShape(this.p5.CLOSE)\n      // OY depth\n      this.p5.beginShape()\n      this.p5.vertex(this.nx, offsetY + this.ny)\n      this.p5.vertex(this.nx + this.dx, offsetY + this.ny + this.dy)\n      this.p5.vertex(this.nx + this.nwidth + this.dx, offsetY + this.ny + this.dy)\n      this.p5.vertex(this.nx + this.nwidth, offsetY + this.ny)\n      this.p5.endShape(this.p5.CLOSE)\n    }\n    if (this.highlight) {\n      const h = {\n        x: this.left - grid.pointDistance,\n        y: this.top - grid.pointDistance,\n        w: this.right - this.left + 2 * grid.pointDistance,\n        h: this.bottom - this.top + 2 * grid.pointDistance\n      }\n      this.p5.noStroke()\n      this.p5.fill(this.p5.color(...this._highlightColor.array))\n      this.p5.rect(h.x, h.y, h.w, h.h)\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/Rect.js","import View from './View'\nimport Color from './Color'\nimport MathUtils from './MathUtils'\n\nexport default class Line extends View {\n  constructor(x, y, x2, y2) {\n    super()\n    this._x = x\n    this._y = y\n    this._width = x2 - x\n    this._height = y2 - y\n    this._color = new Color(0, 0, 255)\n    this._highlightColor = new Color(255, 255, 0, 0.2)\n    this.actionRadius = 15\n  }\n  get x() { return this._x }\n  set x(x) { this._x = x }\n  get y() { return this._y }\n  set y(y) { this._y = y }\n  get x2() { return this._x + this._width }\n  set x2(x) { this._width = x - this._x }\n  get y2() { return this._y + this._height }\n  set y2(y) { this._height = y - this._y }\n  get width() { return this._width }\n  set width(w) { this._width = w }\n  get height() { return this._height }\n  set height(h) { this._height = h }\n  duplicate() {\n    return new Line(this.x, this.y, this.x2, this.y2)\n  }\n  get color() { return this._color }\n  set color(c) { this._color = c }\n  pointInView(x, y) {\n    const distance = MathUtils.distToSegment(\n      { x: x, y: y },\n      { x: this.x, y: this.y },\n      { x: this.x2, y: this.y2 }\n    )\n    if (distance <= this.actionRadius) return true\n    return false\n  }\n  draw() {\n    this.p5.noFill()\n    this.p5.stroke(this.p5.color(...this.color.array))    \n    this.p5.line(this.x, this.y, this.x2, this.y2)\n\n    if (this.highlight) {\n      this.p5.push()\n      this.p5.strokeWeight(this.actionRadius)\n      this.p5.noFill()\n      this.p5.stroke(this.p5.color(...this._highlightColor.array))\n      this.p5.line(this.x, this.y, this.x2, this.y2)\n      this.p5.pop()\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/Line.js","class MathUtils {\n  constructor() { }\n  sqr(x) { return x * x }\n  dist2(v, w) { return this.sqr(v.x - w.x) + this.sqr(v.y - w.y) }\n  distToSegmentSquared(p, v, w) {\n    let l2 = this.dist2(v, w);\n    if (l2 == 0) return this.dist2(p, v);\n    var t = ((p.x - v.x) * (w.x - v.x) + (p.y - v.y) * (w.y - v.y)) / l2;\n    t = Math.max(0, Math.min(1, t));\n    return this.dist2(p, { x: v.x + t * (w.x - v.x),\n                      y: v.y + t * (w.y - v.y) });\n  }\n  distToSegment(p, v, w) { return Math.sqrt(this.distToSegmentSquared(p, v, w)); }\n}\n\nexport default new MathUtils()\n\n\n// WEBPACK FOOTER //\n// ./src/core/MathUtils.js","import { canvasSize, grid } from '../Config'\nimport View from '../core/View'\nimport Line from '../core/Line'\nimport Rect from '../core/Rect'\nimport ImageRect from '../core/ImageRect'\nimport Color from '../core/Color'\nimport State from '../state'\nimport ImageHandler from '../state/ImageHandler'\n\nexport default class Canvas extends View {\n  constructor() {\n    super()\n    this._color = new Color(0, 0, 255)\n    this.listenTo('mousePressed')\n    this.listenTo('mouseMoved')\n    this.listenTo('mouseDragged')\n    this.listenTo('mouseReleased')\n    this.container = this.addView(new View())\n\n    this._pressCount = 0\n    this.moveOpParams = {\n      selectedView: null\n    }\n    this._mx = 0\n    this._my = 0\n  }\n  setContents(newContentsArray) {\n    for (let view of newContentsArray) {\n      this.container.addView(view)\n    }\n  }\n  stop() {\n    this.stopListening('mousePressed')\n    this.stopListening('mouseMoved')\n  }\n  reset() {\n    this._pressCount = 0\n    this.currLine = null\n    this.currRect = null\n  }\n\n  // *********** COMMON CONTROL *********** \\\\\n  getViewUnderCursor() {\n    for (let i = this.container.children.length - 1; i >= 0; i--) {\n      const view = this.container.children[i]\n      if (view.pointInView(this._mx, this._my)) return view\n    }\n  }\n  highlightViewUnderCursor() {\n    const view = this.getViewUnderCursor()\n    if (view && view.highlight) return\n    this.container.children.forEach(child => child.highlight = false)\n    if (view) view.highlight = true\n  }\n  replaceView(oldView, newView) {\n    this.container.removeView(oldView)\n    this.container.addView(newView)\n  }\n\n  // *********** LINE *********** \\\\\n  mousePressedLine() {\n    const mX = this._mx\n    const mY = this._my\n    this._pressCount++\n    if (this._pressCount == 1) {\n      this.currLine = this.addView(new Line(mX, mY, mX, mY))\n    } else if (this._pressCount == 2) {\n      if (mX == this.currLine.x && mY == this.currLine.y)\n        this.removeView(this.currLine)\n      else {\n        this.removeView(this.currLine)\n        this.container.addView(this.currLine)\n      }\n\n      this._pressCount = 0\n    }\n  }\n  mouseMovedLine() {\n    if (this._pressCount != 1) return\n    this.currLine.x2 = this._mx\n    this.currLine.y2 = this._my\n  }\n\n  // *********** BOX *********** \\\\\n  mousePressedBox() {\n    const mX = this._mx\n    const mY = this._my\n    this._pressCount++\n    if (this._pressCount == 1) {\n      this.currRect = this.addView(new Rect(mX, mY, grid.pointDistance, grid.pointDistance))\n    } else if (this._pressCount == 2) {\n      if (mX == this.currRect.x && mY == this.currRect.y)\n        this.removeView(this.currRect)\n    } else if (this._pressCount == 3) {\n      this.removeView(this.currRect)\n      this.container.addView(this.currRect)\n      this._pressCount = 0\n    }\n  }\n  mouseMovedBox() {\n    const mX = this._mx\n    const mY = this._my\n    if (this._pressCount == 1) {\n      this.currRect.width = mX - this.currRect.x\n      this.currRect.height = mY - this.currRect.y\n    } else if (this._pressCount == 2) {\n      if (mX >= this.currRect.nx && mX <= this.currRect.nx + this.currRect.nwidth) {\n        this.currRect.dx = this.currRect.dy = 0\n        return\n      }\n      if (mY >= this.currRect.ny && mY <= this.currRect.ny + this.currRect.nheight) {\n        this.currRect.dx = this.currRect.dy = 0\n        return\n      }\n      this.currRect.dx = mX < this.currRect.nx ? mX - this.currRect.nx : mX - this.currRect.nx - this.currRect.nwidth\n      this.currRect.dy = mY < this.currRect.ny ? mY - this.currRect.ny : mY - this.currRect.ny - this.currRect.nheight\n    }\n  }\n\n  // *********** IMAGE *********** \\\\\n  mouseMovedImage() {\n    this.highlightViewUnderCursor()\n  }\n  mousePressedImage() {\n    const view = this.getViewUnderCursor()\n    if (!view) return\n    const filePicker = this.p5.select('#filePicker')\n    filePicker.elt.onchange = this.onImageSelect.bind(this, filePicker, view)\n    filePicker.elt.click()\n  }\n  onImageSelect(filePicker, view) {\n    console.log('select:', filePicker.elt.files)\n    let imageView\n    if (view.isImageRect) {\n      imageView = view\n      imageView.url = null\n    } else if (view.isRect) {\n      imageView = new ImageRect(view.x, view.y, view.width, view.height, view.dx, view.dy)\n      this.replaceView(view, imageView)\n    } else return\n    ImageHandler.uploadImage(filePicker.elt.files, this.onDoneUploadImage.bind(this, imageView), this.onFailedUploadImage.bind(this), this.onProgressUploadImage.bind(this))\n  }\n  onDoneUploadImage(imageView, url) {\n    console.log('Done: ', imageView, url)\n    imageView.url = url\n  }\n  onFailedUploadImage(e) {\n\n  }\n  onProgressUploadImage(pct) {\n\n  }\n  // *********** MOVE *********** \\\\\n  mousePressedMove() {\n    for (let i = this.container.children.length - 1; i >= 0; i--) {\n      const view = this.container.children[i]\n      if (view.pointInView(this._mx, this._my)) {\n        this.moveOpParams.selectedView = view\n        view.selected = true\n        return\n      }\n    }\n  }\n  mouseMovedMove() {\n    this.highlightViewUnderCursor()\n  }\n  mouseDraggedMove() {\n    if (!this.moveOpParams.selectedView) return\n    const view = this.moveOpParams.selectedView\n    view.x += this._dx\n    view.y += this._dy\n  }\n  mouseReleasedMove() {\n    if (!this.moveOpParams.selectedView) return\n    this.moveOpParams.selectedView.selected = false\n    this.moveOpParams.selectedView = null\n  }\n\n  // *********** REMOVE *********** \\\\\n  mousePressedRemove() {\n    const view = this.getViewUnderCursor()\n    if (!view) return\n    this.container.removeView(view)\n  }\n  mouseMovedRemove() {\n    this.highlightViewUnderCursor()\n  }\n\n\n  updateMousePositionParams() {\n    const mX = this.getGridAligned(this.p5.mouseX)\n    const mY = this.getGridAligned(this.p5.mouseY)\n    this._dx = (mX - this._mx)\n    this._dy = (mY - this._my)\n    this._mx = mX\n    this._my = mY\n  }\n  onEvent(evt) {\n    this.updateMousePositionParams()\n    switch (evt) {\n      case 'mousePressed':\n        if (State.pointInMenu(this.p5.mouseX, this.p5.mouseY)) return\n        if (State.isLineEditingMode) this.mousePressedLine()\n        if (State.isBoxEditingMode) this.mousePressedBox()\n        if (State.isImageEditingMode) this.mousePressedImage()\n        if (State.isMoveEditingMode) this.mousePressedMove()\n        if (State.isRemoveEditingMode) this.mousePressedRemove()\n        break\n      case 'mouseMoved':\n        if (State.isLineEditingMode) this.mouseMovedLine()\n        if (State.isBoxEditingMode) this.mouseMovedBox()\n        if (State.isImageEditingMode) this.mouseMovedImage()\n        if (State.isMoveEditingMode) this.mouseMovedMove()\n        if (State.isRemoveEditingMode) this.mouseMovedRemove()\n        break\n      case 'mouseDragged':\n        if (State.isMoveEditingMode) this.mouseDraggedMove()\n          break\n      case 'mouseReleased':\n        if (State.isMoveEditingMode) this.mouseReleasedMove()\n        break\n    }\n  }\n  draw() {\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/edit/Canvas.js","import PhalanxRoot from '../core/PhalanxRoot'\nimport RootView from './RootView'\nimport { canvasSize, grid } from '../Config'\n\nclass EditController extends PhalanxRoot {\n  constructor() {\n    super()\n  }\n  setRootView() {\n    this.rootView = new RootView(this)\n    this.rootView.disabled = true\n  }\n  setup() {\n    this.canvas.style('position', 'absolute')\n    this.canvas.style('display', 'none')\n    this.p5.noLoop()\n  }\n  getContents() {\n    this.rootView.canvasView.stop()\n    return this.rootView.canvasView.container\n  }\n  setContents(newContentsArray) {\n    this.rootView.canvasView.setContents(newContentsArray)\n  }\n  onStartEditing() {\n    this.rootView.reset()\n    this.rootView.disabled = false\n    this.canvas.style('display', 'block')\n    this.p5.loop()\n    this.redraw()\n  }\n  onDoneEditing() {\n    this.canvas.style('display', 'none')\n    this.rootView.disabled = true\n    this.p5.noLoop()\n    this.p5.clear()\n    this.redraw()\n  }\n}\n\nexport default new EditController()\n\n\n// WEBPACK FOOTER //\n// ./src/edit/EditController.js","import { canvasSize, grid } from '../Config'\nimport View from '../core/View'\nimport Color from '../core/Color'\n\nexport default class GridHighlight extends View {\n  constructor() {\n    super()\n    this._color = new Color(0, 0, 255)\n  }\n  draw() {\n    let mX = this.p5.mouseX\n    let mY = this.p5.mouseY\n    mX = this.getGridAligned(mX)\n    mY = this.getGridAligned(mY)\n    this.p5.stroke(...this._color.array)\n    this.p5.noFill()\n    this.p5.ellipse(mX, mY, 10, 10, 0, 2 * this.p5.PI)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/edit/GridHighlight.js","import { canvasSize, grid } from '../Config'\nimport View from '../core/View'\nimport GridHighlight from './GridHighlight'\nimport Canvas from './Canvas'\n\nexport default class RootView extends View {\n  constructor(phalanxRoot) {\n    super()  \n    this.root = phalanxRoot\n    this.setup()\n  }\n  setup() {\n    this.canvasView = this.addView(new Canvas())\n    this.gridHighlight = this.addView(new GridHighlight())    \n  }\n  reset() {\n    if (this.canvasView) {\n      this.canvasView.stop()\n      this.removeView(this.canvasView)\n    }\n    if (this.gridHighlight) this.removeView(this.gridHighlight)\n    this.setup()\n  } \n  draw() {\n    this.p5.clear()\n    this.p5.background('rgba(255, 0, 0, 0.05)')\n    // this.drawPoints()\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/edit/RootView.js","import PhalanxRoot from '../core/PhalanxRoot'\nimport RootView from './RootView'\nimport { canvasSize, grid } from '../Config'\n\nclass GridController extends PhalanxRoot {\n  constructor() {\n    super()\n  }\n  setRootView() {\n    this.rootView = new RootView(this)\n  }\n  setup() {\n    this.canvas.style('position', 'absolute')\n    this.p5.noLoop()\n  }\n}\n\nexport default new GridController()\n\n\n// WEBPACK FOOTER //\n// ./src/grid/GridController.js","import { canvasSize, grid } from '../Config'\nimport View from '../core/View'\n\nexport default class RootView extends View {\n  constructor(phalanxRoot) {\n    super()  \n    this.root = phalanxRoot\n  }\n  drawPoints() {\n    const topLeft = grid.topLeft, bottomRight = grid.bottomRight\n    const pointSize = grid.pointSize, pointDistance = grid.pointDistance\n    this.p5.stroke(144, 144, 144)\n    for (let i = topLeft.x; i <= bottomRight.x; i += pointDistance) {\n      for (let j = topLeft.y; j <= bottomRight.y; j += pointDistance) {\n        this.p5.ellipse(i, j, pointSize / 2, pointSize / 2, 0, 2 * this.p5.PI)\n      }      \n    }\n  }\n  drawSquares() {\n    const topLeft = grid.topLeft, bottomRight = grid.bottomRight\n    const pointSize = grid.pointSize, pointDistance = grid.pointDistance\n    this.p5.stroke(184, 184, 184)\n    for (let i = topLeft.x; i <= bottomRight.x; i += pointDistance) {\n      this.p5.line(i, 0, i, canvasSize.height)\n    }\n    for (let i = topLeft.y; i <= bottomRight.y; i += pointDistance) {\n      this.p5.line(0, i, canvasSize.width, i)\n    }\n  }\n  draw() {\n    // this.p5.background(225)\n    this.drawPoints()\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/grid/RootView.js","import p5 from 'p5';\nimport 'p5/lib/addons/p5.sound';\nimport 'p5/lib/addons/p5.dom';\n\nimport sketch from './sketch';\nimport edit from './edit'\nimport grid from './grid'\nimport overlay from './overlay'\n\nnew p5(grid, 'grid');\nnew p5(sketch, 'content');\nnew p5(edit, 'edit');\nnew p5(overlay, 'overlay');\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","export default class Color {\n  constructor(r, g, b, alpha) {\n    this.r = r\n    this.g = g\n    this.b = b\n    this.alpha = (alpha === 0 ? 0 : (alpha || 255))\n  }\n  get array() {\n    return [this.r, this.g, this.b, Math.floor(255 * this.alpha)]\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/Color.js","import { canvasSize, grid } from '../Config'\nimport View from '../core/View'\n\nexport default class Logo extends View {\n  constructor() {\n    super()  \n  }\n  rect(x, y, w, h) {\n    this.p5.push()\n    this.p5.stroke(this.p5.color(255, 0, 0))\n    this.p5.fill(this.p5.color(255, 255, 255))\n    this.p5.strokeWeight(2)\n    this.p5.rect(x, y, w, h)\n    this.p5.pop()\n  }\n  type(text, x, y) {\n    this.p5.push()\n    this.p5.textFont(this.root.fonts.fugueRegular)\n    this.p5.noStroke()\n    this.p5.fill(this.p5.color(255, 0, 0))\n    this.p5.textSize(grid.pointDistance - 2)  \n    this.p5.text(text, x, y)\n    this.p5.pop()\n  }\n  draw() {\n    const x = grid.pointDistance\n    const y =  grid.pointDistance\n    const w = 7 * grid.pointDistance\n    const h = 2 * grid.pointDistance\n\n    this.rect(x + 2 * grid.pointDistance, y + 2 * grid.pointDistance, w, h)\n    this.type('space', x + w - 8, y + 3 * grid.pointDistance + 10)\n    this.rect(x + grid.pointDistance, y + grid.pointDistance, w, h)\n    this.type('.', x + grid.pointDistance + w / 2, y + grid.pointDistance + h / 2 + 5)\n    this.rect(x, y, w, h)\n    this.type('phalanx', x + 5, y + 15)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/Logo.js","import PhalanxRoot from '../core/PhalanxRoot'\nimport RootView from './RootView'\nimport { canvasSize, grid } from '../Config'\n\nclass OverlayController extends PhalanxRoot {\n  constructor() {\n    super()\n    this.fonts = {}\n  }\n  setRootView() {\n    this.rootView = new RootView(this)\n  }\n  preload() {\n    this.fonts.fugueRegular = this.p5.loadFont('assets/fugue-regular.ttf')\n    this.fonts.fugueMono = this.p5.loadFont('assets/fugue_mono.ttf')\n  }\n  setup() {\n    this.canvas.canvas.style.position = 'fixed'\n    this.p5.noLoop()\n  }\n  preDraw() {\n    this.p5.clear()\n  }\n  postDraw() {\n\n  }\n  onStartEditing() {\n    this.rootView.showButtons()\n    this.p5.clear()\n    this.p5.redraw()\n  }\n  onDoneEditing() {\n    this.rootView.hideButtons()\n    this.p5.clear()\n    this.p5.redraw()\n  }\n\n  pointInMenu(x, y) { return this.rootView.pointInMenu(x, y) }\n}\n\nexport default new OverlayController()\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/OverlayController.js","import { canvasSize, grid, buttons } from '../Config'\nimport View from '../core/View'\nimport Logo from './Logo'\nimport Version from './Version'\nimport Toolbox from './Toolbox'\nimport State from '../state'\nimport SaveButton from './menu/SaveButton'\nimport CancelButton from './menu/CancelButton'\n\nexport default class RootView extends View {\n  constructor(phalanxRoot) {\n    super()\n    this.root = phalanxRoot\n    this.logo = this.addView(new Logo())\n    this.version = this.addView(new Version(State.version))\n    this.toolbox = this.addView(new Toolbox())\n\n    const btnY = window.innerHeight - (buttons.height + 1) * grid.pointDistance \n    const btnRightX = window.innerWidth - (buttons.width + 1) * grid.pointDistance\n    const btnLeftX = btnRightX - (buttons.width + 1) * grid.pointDistance\n    this.saveButton = this.addView(new SaveButton(btnLeftX, btnY))\n    this.cancelButton = this.addView(new CancelButton(btnRightX, btnY))\n\n    this.hideButtons()\n  }\n  showButtons() {\n    this.saveButton.disabled = this.cancelButton.disabled = false\n  }\n  hideButtons() {\n    this.saveButton.disabled = this.cancelButton.disabled = true\n  }\n  pointInMenu(x, y) { return this.toolbox.pointInView(x, y) }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/RootView.js","import { canvasSize, grid } from '../Config'\nimport Rect from '../core/Rect'\nimport View from '../core/View'\nimport Color from '../core/Color'\nimport MenuLine from './menu/MenuLine'\nimport MenuBox from './menu/MenuBox'\nimport MenuMove from './menu/MenuMove'\nimport MenuRemove from './menu/MenuRemove'\nimport MenuImage from './menu/MenuImage'\n\nexport default class Toolbox extends View {\n  constructor() {\n    super()\n    this.containerCoords = {\n      x: window.innerWidth - 5 * grid.pointDistance,\n      y: 2 * grid.pointDistance\n    }\n    this.container = this.addView(new Rect(this.containerCoords.x, this.containerCoords.y, 3 * grid.pointDistance, 13 * grid.pointDistance, grid.pointDistance, -grid.pointDistance))\n    this.container.color = new Color(255, 0, 0)\n\n    this.lineCoords = {\n      x: this.containerCoords.x + grid.pointDistance,\n      y: this.containerCoords.y + grid.pointDistance,\n      x2: this.containerCoords.x + 2 * grid.pointDistance,\n      y2: this.containerCoords.y + 2 * grid.pointDistance,\n    }\n    this.lineButton = this.addView(new MenuLine(this.lineCoords.x, this.lineCoords.y, this.lineCoords.x2, this.lineCoords.y2))\n\n    this.boxCoords = {\n      x: this.containerCoords.x + grid.pointDistance,\n      y: this.containerCoords.y + 3 * grid.pointDistance,\n      w: grid.pointDistance,\n      h: grid.pointDistance,\n    }\n    this.boxButton = this.addView(new MenuBox(this.boxCoords.x, this.boxCoords.y, this.boxCoords.w, this.boxCoords.h))\n\n    this.imageCoords = {\n      x: this.containerCoords.x + grid.pointDistance,\n      y: this.containerCoords.y + 5 * grid.pointDistance,\n      w: grid.pointDistance,\n      h: grid.pointDistance,\n    }\n    this.imageButton = this.addView(new MenuImage(this.imageCoords.x, this.imageCoords.y, this.imageCoords.w, this.imageCoords.h))\n\n    this.moveCoords = {\n      x: this.containerCoords.x + grid.pointDistance,\n      y: this.containerCoords.y + 7 * grid.pointDistance,\n      w: grid.pointDistance,\n      h: grid.pointDistance,\n    }\n    this.moveButton = this.addView(new MenuMove(this.moveCoords.x, this.moveCoords.y, this.moveCoords.w, this.moveCoords.h))\n\n    this.removeCoords = {\n      x: this.containerCoords.x + grid.pointDistance,\n      y: this.containerCoords.y + 9 * grid.pointDistance,\n      w: grid.pointDistance,\n      h: grid.pointDistance,\n    }\n    this.removeButton = this.addView(new MenuRemove(this.removeCoords.x, this.removeCoords.y, this.removeCoords.w, this.removeCoords.h))\n  }\n\n  pointInView(x, y) {\n    return this.container.pointInView(x, y)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/Toolbox.js","import { canvasSize, grid } from '../Config'\nimport View from '../core/View'\n\nexport default class Version extends View {\n  constructor(versionNumber) {\n    super()  \n    this._versionNumber = versionNumber\n  }\n  get versionNumber() { return this._versionNumber }\n  set versionNumber(v) { this._versionNumber = v }\n  draw() {\n    const size = 12 * grid.pointDistance\n    this.p5.textFont(this.root.fonts.fugueMono)\n    this.p5.noFill()\n    this.p5.stroke(this.p5.color(255, 0, 0))\n    this.p5.strokeWeight(1)\n    this.p5.textSize(size)  \n    this.p5.textAlign(this.p5.CENTER, this.p5.CENTER)\n    this.p5.text(this.versionNumber, this.windowWidth / 2, this.windowHeight / 2)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/Version.js","import { canvasSize, grid } from '../../Config'\nimport Button from '../../core/Button'\nimport State from '../../state'\n\nexport default class CancelButton extends Button {\n  constructor(x, y, text) {\n    super(x, y, 'cancel')\n  }\n  onClick() {\n    console.log('Cancelling...')\n    State.cancelEditing()\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/menu/CancelButton.js","import { canvasSize, grid } from '../../Config'\nimport Rect from '../../core/Rect'\nimport View from '../../core/View'\nimport Color from '../../core/Color'\nimport State from '../../state'\n\nexport default class MenuBox extends Rect {\n  constructor(x, y, w, h) {\n    super(x, y, w, h, 0, 0)\n    this.color = new Color(255, 0, 0)\n    this.listenTo('mousePressed')\n  }\n  onEvent(evt) {\n    switch (evt) {\n      case 'mousePressed':\n        if (this.pointInView(this.p5.mouseX, this.p5.mouseY)) {\n          State.startEditing(State.EDITING_MODES.BOX)\n        }\n        break\n    }\n  }\n  draw() {\n    if (State.isEditing && State.isBoxEditingMode)\n      this.color = new Color(0, 255, 0)\n    else\n      this.color = new Color(255, 0, 0)\n    super.draw()\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/menu/MenuBox.js","import { canvasSize, grid } from '../../Config'\nimport Rect from '../../core/Rect'\nimport View from '../../core/View'\nimport Color from '../../core/Color'\nimport State from '../../state'\n\nexport default class MenuImage extends Rect {\n  constructor(x, y, w, h) {\n    super(x, y, w, h, 0, 0)\n    this.color = new Color(255, 0, 0)\n    this.listenTo('mousePressed')\n  }\n  onEvent(evt) {\n    switch (evt) {\n      case 'mousePressed':\n        if (this.pointInView(this.p5.mouseX, this.p5.mouseY)) {\n          State.startEditing(State.EDITING_MODES.IMAGE)\n        }\n        break\n    }\n  }\n  draw() {\n    if (State.isEditing && State.isImageEditingMode)\n      this.color = new Color(0, 255, 0)\n    else\n      this.color = new Color(255, 0, 0)\n    super.draw()\n    this.p5.push()\n    this.p5.stroke(this.color.array)\n    this.p5.line(this.x, this.y + this.height, this.x + this.width / 3, this.y + this.height / 2)\n    this.p5.line(this.x + this.width / 3, this.y + this.height / 2, this.x + this.width * 0.5, this.y + this.height * 0.7)\n    this.p5.line(this.x + this.width * 0.5, this.y + this.height * 0.7, this.x + this.width * 0.8, this.y + this.height * 0.4)\n    this.p5.line(this.x + this.width * 0.8, this.y + this.height * 0.4, this.x + this.width, this.y + this.height)\n    // this.p5.ellipse(this.x + this.width / 2, this.y + this.height / 2, this.width * 0.5, this.height * 0.5, 0, 0, 2 * Math.PI)\n    this.p5.pop()\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/menu/MenuImage.js","import { canvasSize, grid } from '../../Config'\nimport Line from '../../core/Line'\nimport View from '../../core/View'\nimport Color from '../../core/Color'\nimport State from '../../state'\n\nexport default class MenuLine extends Line {\n  constructor(x, y, x2, y2) {\n    super(x, y, x2, y2)\n    this.color = new Color(255, 0, 0)\n    this.listenTo('mousePressed')\n  }\n  onEvent(evt) {\n    switch (evt) {\n      case 'mousePressed':\n        if (this.pointInView(this.p5.mouseX, this.p5.mouseY)) {\n          State.startEditing(State.EDITING_MODES.LINE)\n        }\n        break\n    }\n  }\n  draw() {\n    if (State.isEditing && State.isLineEditingMode)\n      this.color = new Color(0, 255, 0)\n    else\n      this.color = new Color(255, 0, 0)\n    super.draw()\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/menu/MenuLine.js","import { canvasSize, grid } from '../../Config'\nimport Line from '../../core/Line'\nimport View from '../../core/View'\nimport Color from '../../core/Color'\nimport State from '../../state'\n\nexport default class MenuMove extends View {\n  constructor(x, y, w, h) {\n    super()\n    this.x = x\n    this.y = y\n    this.w = w\n    this.h = h\n    this.color = new Color(255, 0, 0)\n    this.listenTo('mousePressed')\n  }\n  pointInView(x, y) {\n    if (x >= this.x && \n        x <= this.x + this.w &&\n        y >= this.y &&\n        y <= this.y + this.h) return true\n    return false\n  }\n  onEvent(evt) {\n    switch (evt) {\n      case 'mousePressed':\n        if (this.pointInView(this.p5.mouseX, this.p5.mouseY)) {\n          State.startEditing(State.EDITING_MODES.MOVE)\n        }\n        break\n    }\n  }\n  draw() {\n    if (State.isEditing && State.isMoveEditingMode)\n      this.color = new Color(0, 255, 0)\n    else\n      this.color = new Color(255, 0, 0)\n\n    this.p5.noFill()\n    this.p5.stroke(this.p5.color(...this.color.array))\n    this.p5.line(this.x + this.w / 2, this.y, this.x + this.w / 2, this.y + this.h)\n    this.p5.line(this.x, this.y + this.h / 2, this.x + this.w, this.y + this.h / 2)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/menu/MenuMove.js","import { canvasSize, grid } from '../../Config'\nimport Line from '../../core/Line'\nimport View from '../../core/View'\nimport Color from '../../core/Color'\nimport State from '../../state'\n\nexport default class MenuRemove extends View {\n  constructor(x, y, w, h) {\n    super()\n    this.x = x\n    this.y = y\n    this.w = w\n    this.h = h\n    this.color = new Color(255, 0, 0)\n    this.listenTo('mousePressed')\n  }\n  pointInView(x, y) {\n    if (x >= this.x && \n        x <= this.x + this.w &&\n        y >= this.y &&\n        y <= this.y + this.h) return true\n    return false\n  }\n  onEvent(evt) {\n    switch (evt) {\n      case 'mousePressed':\n        if (this.pointInView(this.p5.mouseX, this.p5.mouseY)) {\n          State.startEditing(State.EDITING_MODES.REMOVE)\n        }\n        break\n    }\n  }\n  draw() {\n    if (State.isEditing && State.isRemoveEditingMode)\n      this.color = new Color(0, 255, 0)\n    else\n      this.color = new Color(255, 0, 0)\n\n    this.p5.noFill()\n    this.p5.stroke(this.p5.color(...this.color.array))\n    this.p5.line(this.x, this.y, this.x + this.w, this.y + this.h)\n    this.p5.line(this.x + this.w, this.y, this.x, this.y + this.h)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/menu/MenuRemove.js","import { canvasSize, grid } from '../../Config'\nimport Button from '../../core/Button'\nimport State from '../../state'\n\nexport default class SaveButton extends Button {\n  constructor(x, y, text) {\n    super(x, y, 'save')\n  }\n  onClick() {\n    console.log('Saving...')\n    State.saveEditing()\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/menu/SaveButton.js","import PhalanxRoot from '../core/PhalanxRoot'\nimport RootView from './RootView'\nimport { canvasSize, grid } from '../Config'\n\nclass MainController extends PhalanxRoot {\n  constructor() {\n    super()\n  }\n  setRootView() {\n    this.rootView = new RootView(this)\n  }\n  setup() {\n    this.canvas.style('position', 'absolute')\n    this.p5.noLoop()\n  }\n  preDraw() {\n    this.p5.clear()\n  }\n  postDraw() {\n\n  }\n  getContents() {\n    return this.rootView.dynamicContent.children.slice(0)\n  }\n  getAndClearContents() {\n    let childrenToEdit = []\n    const currentChildren = this.rootView.dynamicContent.children.slice(0)\n    this.rootView.dynamicContent.children.forEach(child => childrenToEdit.push(child.duplicate()))\n    this.rootView.dynamicContent.removeAll()\n    return {\n      childrenToEdit: childrenToEdit,\n      oldChildren: currentChildren\n    }\n  }\n  setContents(viewArray) {\n    this.rootView.dynamicContent.removeAll()\n    viewArray.forEach(view => this.rootView.dynamicContent.addView(view))\n  }\n  onDoneEditing() {\n    this.p5.clear()\n    this.redraw()\n  }\n}\n\nexport default new MainController()\n\n\n// WEBPACK FOOTER //\n// ./src/sketch/MainController.js","import { canvasSize, grid } from '../Config'\nimport View from '../core/View'\nimport Line from '../core/Line'\nimport Rect from '../core/Rect'\nimport ImageRect from '../core/ImageRect'\n\nexport default class RootView extends View {\n  constructor(phalanxRoot) {\n    super()  \n    this.root = phalanxRoot\n    // this.content = this.addView(new View())\n    this.dynamicContent = this.addView(new View())\n    this.setupContent()\n  }\n  setupContent() {\n    this.dynamicContent.addView(new Line(105, 105, 190, 190))\n    this.dynamicContent.addView(new Rect(145, 175, 75, 120, 15, 15))\n    this.dynamicContent.addView(new Rect(265, 195, 75, 120, 30, -15))\n    this.dynamicContent.addView(new ImageRect(465, 495, 175, 120, 30, -15, 'https://www.gakkoproject.com/assets/people/graham_banfield-a6234aa97d37f4fd6f1c6f6dee91fde69fe942e18092b686411024bc3bb89d60.jpg'))\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/sketch/RootView.js","import cloudinary from 'cloudinary-core'\n\nconst cloudName = 'phalanx-space';\nconst unsignedUploadPreset = 'xpzufbzn';\n\nclass ImageHandler {\n  constructor() {\n    this.cl = new cloudinary.Cloudinary({cloud_name: \"phalanx-space\", secure: true});\n  }\n\n  uploadImage(files, doneCallback, failedCallback, progressCallback) {\n    const file = files[0]\n\n    var url = `https://api.cloudinary.com/v1_1/${cloudName}/upload`;\n    var xhr = new XMLHttpRequest();\n    var fd = new FormData();\n    xhr.open('POST', url, true);\n    xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n    // Reset the upload progress bar\n   // document.getElementById('progress').style.width = 0;\n    \n    // Update progress (can be used to show progress indicator)\n    xhr.upload.addEventListener(\"progress\", function(e) {\n      const progress = Math.round((e.loaded * 100.0) / e.total);\n      if (progressCallback) progressCallback(progress)\n      console.log(`fileuploadprogress data.loaded: ${e.loaded}, data.total: ${e.total}`);\n    });\n\n    xhr.onreadystatechange = function(e) {\n      if (xhr.readyState == 4 && xhr.status == 200) {\n        // File uploaded successfully\n        var response = JSON.parse(xhr.responseText);\n        // https://res.cloudinary.com/cloudName/image/upload/v1483481128/public_id.jpg\n        var url = response.secure_url;\n        console.log('DONE: ', url)\n        doneCallback(url)\n      } else {\n        if (failedCallback) failedCallback(e)\n      }\n    };\n\n    fd.append('upload_preset', unsignedUploadPreset);\n    fd.append('tags', 'browser_upload'); // Optional - add tag for image admin in Cloudinary\n    fd.append('file', file);\n    xhr.send(fd);\n  }\n}\n\nexport default new ImageHandler()\n\n\n// var fileSelect = document.getElementById(\"fileSelect\"),\n//   fileElem = document.getElementById(\"fileElem\");\n\n// fileSelect.addEventListener(\"click\", function(e) {\n//   if (fileElem) {\n//     fileElem.click();\n//   }\n//   e.preventDefault(); // prevent navigation to \"#\"\n// }, false);\n\n// // ************************ Drag and drop ***************** //\n// function dragenter(e) {\n//   e.stopPropagation();\n//   e.preventDefault();\n// }\n\n// function dragover(e) {\n//   e.stopPropagation();\n//   e.preventDefault();\n// }\n\n// dropbox = document.getElementById(\"dropbox\");\n// dropbox.addEventListener(\"dragenter\", dragenter, false);\n// dropbox.addEventListener(\"dragover\", dragover, false);\n// dropbox.addEventListener(\"drop\", drop, false);\n\n// function drop(e) {\n//   e.stopPropagation();\n//   e.preventDefault();\n\n//   var dt = e.dataTransfer;\n//   var files = dt.files;\n\n//   handleFiles(files);\n// }\n\n// // *********** Upload file to Cloudinary ******************** //\n// function uploadFile(file) {\n//   var url = `https://api.cloudinary.com/v1_1/${cloudName}/upload`;\n//   var xhr = new XMLHttpRequest();\n//   var fd = new FormData();\n//   xhr.open('POST', url, true);\n//   xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n//   // Reset the upload progress bar\n//    document.getElementById('progress').style.width = 0;\n  \n//   // Update progress (can be used to show progress indicator)\n//   xhr.upload.addEventListener(\"progress\", function(e) {\n//     var progress = Math.round((e.loaded * 100.0) / e.total);\n//     document.getElementById('progress').style.width = progress + \"%\";\n\n//     console.log(`fileuploadprogress data.loaded: ${e.loaded},\n//   data.total: ${e.total}`);\n//   });\n\n//   xhr.onreadystatechange = function(e) {\n//     if (xhr.readyState == 4 && xhr.status == 200) {\n//       // File uploaded successfully\n//       var response = JSON.parse(xhr.responseText);\n//       // https://res.cloudinary.com/cloudName/image/upload/v1483481128/public_id.jpg\n//       var url = response.secure_url;\n//       // Create a thumbnail of the uploaded image, with 150px width\n//       var tokens = url.split('/');\n//       tokens.splice(-2, 0, 'w_150,c_scale');\n//       var img = new Image(); // HTML5 Constructor\n//       img.src = tokens.join('/');\n//       img.alt = response.public_id;\n//       document.getElementById('gallery').appendChild(img);\n//     }\n//   };\n\n//   fd.append('upload_preset', unsignedUploadPreset);\n//   fd.append('tags', 'browser_upload'); // Optional - add tag for image admin in Cloudinary\n//   fd.append('file', file);\n//   xhr.send(fd);\n// }\n\n// // *********** Handle selected files ******************** //\n// var handleFiles = function(files) {\n//   for (var i = 0; i < files.length; i++) {\n//     uploadFile(files[i]); // call the function to upload the file\n//   }\n// };\n\n\n// WEBPACK FOOTER //\n// ./src/state/ImageHandler.js","import { canvasSize, grid } from '../Config'\n\nconst SUPPORTED_EVENTS = ['mousePressed', 'mouseMoved', 'mouseDragged', 'mouseReleased']\n\nexport default class PhalanxRoot {\n  constructor() {\n    this._p5 = null\n    this.listeners = {}\n  }\n  set p5(p5) { this._p5 = p5 }\n  get p5() { return this._p5 }\n  get windowWidth() { return this.p5.windowWidth }\n  get windowHeight() { return this.p5.windowHeight }\n  isEventSupported(evt) { return SUPPORTED_EVENTS.indexOf(evt) != -1 }\n  start() {\n    if (!this.p5) return\n    this.p5.preload = this._preload.bind(this)\n    this.p5.setup = this._setup.bind(this)\n    this.p5.draw = this._draw.bind(this)\n    this.p5.mousePressed = this._propagateP5Event.bind(this, 'mousePressed')\n    this.p5.mouseMoved = this._propagateP5Event.bind(this, 'mouseMoved')\n    this.p5.mouseDragged = this._propagateP5Event.bind(this, 'mouseDragged')\n    this.p5.mouseReleased = this._propagateP5Event.bind(this, 'mouseReleased')\n  }\n  setRootView() { }\n  // P5 lifecycle\n  _preload() {\n    this.preload()\n  }\n  preload() { }\n  _setup() {\n    this.canvas = this.p5.createCanvas(canvasSize.width, canvasSize.height);\n    this.setRootView()\n    this.setup()\n  }\n  setup() { }\n  redraw() {\n    this.p5.redraw()\n  }\n  _draw() {\n    this.preDraw()\n    if (this.rootView) this.rootView._draw()\n    this.postDraw()\n  }\n  preDraw() { }\n  postDraw() { }\n\n  // P5 events\n  addListener(evt, view) {\n    if (!this.isEventSupported(evt)) {\n      console.warn('No such P5 event!')\n      return\n    }\n    if (!this.listeners[evt]) this.listeners[evt] = []\n    if (this.listeners[evt].indexOf(view) != -1) return\n    this.listeners[evt].push(view)\n  }\n  removeListener(evt, view) {\n    if (!this.isEventSupported(evt)) {\n      console.warn('No such P5 event!')\n      return\n    }\n    if (!this.listeners[evt]) return\n    const index = this.listeners[evt].indexOf(view)\n    // console.log('removeListener', evt, view, this.listeners[evt], index)\n    this.listeners[evt].splice(index, 1)\n    // console.log('removeListener', evt, view, this.listeners[evt])\n  }\n  _propagateP5Event(evt) {\n    if (!this.listeners[evt]) return\n    this.listeners[evt].forEach(view => view._onEvent(evt))\n    return false    \n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/PhalanxRoot.js","const EDITING_MODES = {\n  LINE: 'LINE',\n  BOX: 'BOX',\n  MOVE: 'MOVE',\n  REMOVE: 'REMOVE',\n  IMAGE: 'IMAGE'\n}\n\nclass GlobalState {\n  constructor() {\n    this._state = {\n      editing: false,\n      editingMode: null,\n      version: 0\n    }\n    this._editController = null\n  }\n  registerEditController(c) {\n    this._editController = c\n  }\n  registerMenuController(c) {\n    this._menuController = c\n  }\n  registerMainController(c) {\n    this._mainController = c\n  }\n  get version() { return this._state.version }\n  get EDITING_MODES() {\n    return EDITING_MODES\n  }\n  get isEditing() { return this._state.editing }\n  get isLineEditingMode() { return this._state.editingMode === this.EDITING_MODES.LINE }\n  get isBoxEditingMode() { return this._state.editingMode === this.EDITING_MODES.BOX }\n  get isMoveEditingMode() { return this._state.editingMode === this.EDITING_MODES.MOVE }\n  get isRemoveEditingMode() { return this._state.editingMode === this.EDITING_MODES.REMOVE }\n  get isImageEditingMode() { return this._state.editingMode === this.EDITING_MODES.IMAGE }\n\n  pointInMenu(x, y) { return this._menuController.pointInMenu(x, y) }\n  \n  startEditing(editingMode) {\n    if (!this._state.editing) {\n      this._state.editing = true\n      this._state.editingMode = editingMode\n\n      this._editController.onStartEditing()\n      this._menuController.onStartEditing()\n\n      this.currentContents = this._mainController.getAndClearContents()\n      this._editController.setContents(this.currentContents.childrenToEdit)\n      this._mainController.redraw()\n    } else {\n      console.log('change editing mode')\n      this._state.editingMode = editingMode\n      this._menuController.redraw()\n    }\n  }\n  saveEditing() {\n    const contentView = this._editController.getContents()\n    this._state.editing = false\n    this._state.editingMode = null    \n    this._mainController.setContents(contentView.children)\n    this._mainController.onDoneEditing()\n    this._editController.onDoneEditing()\n    this._menuController.onDoneEditing()\n\n    // Remove old views that were stored in case the user tapped cancel\n    delete this.currentContents.oldChildren\n  }\n  cancelEditing() {\n    this._state.editing = false\n    this._state.editingMode = null\n    this._mainController.setContents(this.currentContents.oldChildren)\n    this._mainController.onDoneEditing()\n    this._editController.onDoneEditing()\n    this._menuController.onDoneEditing()\n\n    // Remove newly created children\n    delete this.currentContents.childrenToEdit\n  }\n}\n\nexport default new GlobalState()\n\n\n// WEBPACK FOOTER //\n// ./src/state/index.js","import View from './View'\nimport Color from './Color'\nimport { canvasSize, grid, buttons } from '../Config'\n\nexport default class Button extends View {\n  constructor(x, y, text) {\n    super()\n    this.x = x\n    this.y = y\n    this.text = text\n    this.textSize = grid.pointDistance - 2\n    this.textPadding = 5\n    this.width = grid.pointDistance * buttons.width\n    this.height = grid.pointDistance * buttons.height\n    this.dx = 0\n    this.dy = 0\n    this._color = new Color(255, 0, 0)\n    this.listenTo('mousePressed')\n  }\n  get color() { return this._color }\n  set color(c) { this._color = c }\n\n  pointInView(x, y) {\n    if (x >= this.x && x <= this.x + this.width &&\n        y >= this.y && y <= this.y + this.height) {\n      return true\n    }\n    return false\n  }\n\n  type(text, x, y) {\n    this.p5.push()\n    this.p5.textFont(this.root.fonts.fugueRegular)\n    this.p5.noStroke()\n    this.p5.fill(...this.color.array)\n    this.p5.textSize(grid.pointDistance - 2)  \n    this.p5.text(text, x, y)\n    this.p5.pop()\n  }\n\n  onClick() { }\n\n  onEvent(evt) {\n    switch (evt) {\n      case 'mousePressed':\n        if (this.pointInView(this.p5.mouseX, this.p5.mouseY))\n          this.onClick()\n        break\n    }\n  }\n\n  draw() {\n    this.p5.stroke(this.p5.color(...this.color.array))\n    this.p5.rect(this.x, this.y, this.width, this.height)\n    this.type(this.text, this.x + this.textPadding, this.y + this.textSize)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/Button.js","import { canvasSize, grid } from '../Config'\nimport Rect from './Rect'\nimport Color from './Color'\n\nexport default class ImageRect extends Rect {\n  constructor(x, y, w, h, dx, dy, url) {\n    super(x, y, w, h, dx, dy)\n    this._url = url\n    this._loaded = false\n    this._imageParams = {}\n  }\n  get isImageRect() { return true }\n  loadImg() {\n    if (this.url) {\n      this._img = this.p5.createImg(this._url, '', this.loadedCallback.bind(this))\n      this._img.hide()\n    }\n  }\n  onRoot() {\n    this.loadImg()\n  }\n  get url() { return this._url }\n  set url(u) {\n    this._loaded = false\n    this._url = u\n    this.loadImg()\n    this.redraw()\n  }\n  duplicate() {\n    return new ImageRect(this._x, this._y, this._width, this._height, this.dx, this.dy, this._url)\n  }\n  loadedCallback() {\n    this._loaded = true\n    if (this._img.width / this.nwidth < this._img.height / this.nheight) {\n      // Fit on width\n      this._imageParams.scaleFactor = 1 / (this._img.width / this.nwidth)\n      this._imageParams.sx = 0\n      this._imageParams.sw = this._img.width\n      this._imageParams.totalCrop = ((this._imageParams.scaleFactor * this._img.height) - this.nheight) * (1 / this._imageParams.scaleFactor)\n      this._imageParams.sy = this._imageParams.totalCrop / 2\n      this._imageParams.sh = this._img.height - this._imageParams.totalCrop\n    } else {\n      // Fit on height\n      this._imageParams.scaleFactor = 1 / (this._img.height / this.nheight)\n      this._imageParams.sy = 0\n      this._imageParams.sh = this._img.height\n      this._imageParams.totalCrop = ((this._imageParams.scaleFactor * this._img.width) - this.nwidth) * (1 / this._imageParams.scaleFactor)\n      this._imageParams.sx = (this._imageParams.totalCrop / 2)\n      this._imageParams.sw = this._img.width - this._imageParams.totalCrop\n    }\n    this.redraw()\n  }\n  draw() {\n    super.draw()\n    if (this._loaded) {\n      this.p5.image(this._img, this.nx + 1, this.ny + 1, this.nwidth - 1, this.nheight - 1, this._imageParams.sx, this._imageParams.sy, this._imageParams.sw, this._imageParams.sh)\n    } else {\n      this.p5.push()\n      this.p5.noStroke()\n      this.p5.fill(this._color.array)\n      this.p5.text('Loading image...', this.nx + 5, this.ny + 5, this.nwidth, this.nheight)\n      this.p5.pop()\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/ImageRect.js","import EditController from './EditController'\nimport State from '../state'\n\nexport default function edit(s) {\n  EditController.p5 = s\n  EditController.start()\n  State.registerEditController(EditController)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/edit/index.js","import GridController from './GridController'\n\nexport default function sketch(s) {\n  GridController.p5 = s\n  GridController.start()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/grid/index.js","import OverlayController from './OverlayController'\nimport State from '../state'\n\nexport default function overlay(s) {\n  OverlayController.p5 = s\n  OverlayController.start()\n  State.registerMenuController(OverlayController)\n}\n\n\n// WEBPACK FOOTER //\n// ./src/overlay/index.js","import MainController from './MainController'\nimport State from '../state'\n\nexport default function sketch(s) {\n  MainController.p5 = s\n  MainController.start()\n  State.registerMainController(MainController)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sketch/index.js"],"sourceRoot":""}